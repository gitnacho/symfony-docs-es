
<!DOCTYPE html> 
<html lang="es">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Referencia de configuración de Security &mdash; Manual de Symfony2 en Español</title>
    
    <link rel="stylesheet" href="../../_static/tnp.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2.0.15',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/translations.js"></script>
    <link rel="shortcut icon" href="../../_static/icotnp.ico"/>
    <link rel="top" title="Manual de Symfony2 en Español" href="../../index.html" />
    <link rel="up" title="Documentos de referencia" href="../index.html" />
    <link rel="next" title="Configurando el SwiftmailerBundle (&#34;swiftmailer&#34;)" href="swiftmailer.html" />
    <link rel="prev" title="Referencia de configuración de Doctrine" href="doctrine.html" /> 
  </head>
  <body>
  <div class="imalogo">
    
  <a href="../../index.html"><img src="http://gitnacho.github.com/tnp/img/sf/logo-big.gif" alt="Edición estándar de Symfony2" />
  
    <a href="../../index.html"><img src="http://gitnacho.github.com/tnp/_static/normaltnp.png" alt="Traducciones de Nacho Pacheco" /></a>
    <div class="social">
      <a href="https://twitter.com/share" class="twitter-share-button" data-via="esymfony" data-lang="es">Tweet</a>
      <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
    </div>
    <div id="searchbox">
      <form class="searc " action="../../search.html" method="get">
      <input type="search" name="q" placeholder="Término a buscar" />
      <input type="submit" value="Ir" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <script type="text/javascript">$('#searchbox').show(0);</script>
    </div>
    

    <div class="related">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="Índice General"
             accesskey="I">índice</a></li>
        <li class="right" >
          <a href="swiftmailer.html" title="Configurando el SwiftmailerBundle (&#34;swiftmailer&#34;)"
             accesskey="N">siguiente</a> |</li>
        <li class="right" >
          <a href="doctrine.html" title="Referencia de configuración de Doctrine"
             accesskey="P">anterior</a> |</li>
        <li><a href="../../index.html">en Español</a> &raquo;</li>
          <li><a href="../index.html" accesskey="U">Documentos de referencia</a> &raquo;</li> 
      </ul>
    </div>
  </div>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="referencia-de-configuracion-de-security">
<span id="index-0"></span><h1>Referencia de configuración de <tt class="docutils literal"><span class="pre">Security</span></tt><a class="headerlink" href="#referencia-de-configuracion-de-security" title="Enlazar permanentemente con este título">¶</a></h1>
<p>El sistema de seguridad es una de las piezas más poderosas de <em>Symfony2</em>, y en gran medida se puede controlar por medio de su configuración.</p>
<div class="section" id="configuracion-predeterminada-completa">
<h2>Configuración predeterminada completa<a class="headerlink" href="#configuracion-predeterminada-completa" title="Enlazar permanentemente con este título">¶</a></h2>
<p>La siguiente es la configuración predeterminada para el sistema de seguridad completo.
Cada parte se explica en la siguiente sección.</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml"><div class="highlight"><pre><span class="c1"># app/config/security.yml</span>
<span class="l-Scalar-Plain">security</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">access_denied_url</span><span class="p-Indicator">:</span>    <span class="l-Scalar-Plain">~</span> <span class="c1"># Ejemplo: /foo/error403</span>

    <span class="c1"># la estrategia puede ser: none, migrate, invalidate</span>
    <span class="l-Scalar-Plain">session_fixation_strategy</span><span class="p-Indicator">:</span>  <span class="l-Scalar-Plain">migrate</span>
    <span class="l-Scalar-Plain">hide_user_not_found</span><span class="p-Indicator">:</span>  <span class="l-Scalar-Plain">true</span>
    <span class="l-Scalar-Plain">always_authenticate_before_granting</span><span class="p-Indicator">:</span>  <span class="l-Scalar-Plain">false</span>
    <span class="l-Scalar-Plain">erase_credentials</span><span class="p-Indicator">:</span>    <span class="l-Scalar-Plain">true</span>
    <span class="l-Scalar-Plain">access_decision_manager</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">strategy</span><span class="p-Indicator">:</span>             <span class="l-Scalar-Plain">affirmative</span>
        <span class="l-Scalar-Plain">allow_if_all_abstain</span><span class="p-Indicator">:</span>  <span class="l-Scalar-Plain">false</span>
        <span class="l-Scalar-Plain">allow_if_equal_granted_denied</span><span class="p-Indicator">:</span>  <span class="l-Scalar-Plain">true</span>
    <span class="l-Scalar-Plain">acl</span><span class="p-Indicator">:</span>

        <span class="c1"># cualquier nombre configurado en la sección doctrine.dbal</span>
        <span class="l-Scalar-Plain">connection</span><span class="p-Indicator">:</span>           <span class="l-Scalar-Plain">~</span>
        <span class="l-Scalar-Plain">cache</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">id</span><span class="p-Indicator">:</span>                   <span class="l-Scalar-Plain">~</span>
            <span class="l-Scalar-Plain">prefix</span><span class="p-Indicator">:</span>               <span class="l-Scalar-Plain">sf2_acl_</span>
        <span class="l-Scalar-Plain">provider</span><span class="p-Indicator">:</span>             <span class="l-Scalar-Plain">~</span>
        <span class="l-Scalar-Plain">tables</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">class</span><span class="p-Indicator">:</span>                <span class="l-Scalar-Plain">acl_classes</span>
            <span class="l-Scalar-Plain">entry</span><span class="p-Indicator">:</span>                <span class="l-Scalar-Plain">acl_entries</span>
            <span class="l-Scalar-Plain">object_identity</span><span class="p-Indicator">:</span>      <span class="l-Scalar-Plain">acl_object_identities</span>
            <span class="l-Scalar-Plain">object_identity_ancestors</span><span class="p-Indicator">:</span>  <span class="l-Scalar-Plain">acl_object_identity_ancestors</span>
            <span class="l-Scalar-Plain">security_identity</span><span class="p-Indicator">:</span>    <span class="l-Scalar-Plain">acl_security_identities</span>
        <span class="l-Scalar-Plain">voter</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">allow_if_object_identity_unavailable</span><span class="p-Indicator">:</span>  <span class="l-Scalar-Plain">true</span>

    <span class="l-Scalar-Plain">encoders</span><span class="p-Indicator">:</span>
        <span class="c1"># Ejemplos:</span>
        <span class="l-Scalar-Plain">Acme\DemoBundle\Entity\Usuario1</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">sha512</span>
        <span class="l-Scalar-Plain">Acme\DemoBundle\Entity\Usuario2</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">algorithm</span><span class="p-Indicator">:</span>           <span class="l-Scalar-Plain">sha512</span>
            <span class="l-Scalar-Plain">encode_as_base64</span><span class="p-Indicator">:</span>    <span class="l-Scalar-Plain">true</span>
            <span class="l-Scalar-Plain">iterations</span><span class="p-Indicator">:</span>          <span class="l-Scalar-Plain">5000</span>

        <span class="c1"># codificador PBKDF2</span>
        <span class="c1"># ve la nota sobre PBKDF2 abajo para detalles sobre seguridad y velocidad</span>
        <span class="l-Scalar-Plain">Acme\Your\Class\Name</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">algorithm</span><span class="p-Indicator">:</span>            <span class="l-Scalar-Plain">pbkdf2</span>
            <span class="l-Scalar-Plain">hash_algorithm</span><span class="p-Indicator">:</span>       <span class="l-Scalar-Plain">sha512</span>
            <span class="l-Scalar-Plain">encode_as_base64</span><span class="p-Indicator">:</span>     <span class="l-Scalar-Plain">true</span>
            <span class="l-Scalar-Plain">iterations</span><span class="p-Indicator">:</span>           <span class="l-Scalar-Plain">1000</span>

        <span class="c1"># Ejemplo opciones/valores por lo tanto un codificador personalizado se puede ver así</span>
        <span class="l-Scalar-Plain">Acme\Tu\Nombre\De\Clase</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">algorithm</span><span class="p-Indicator">:</span>            <span class="l-Scalar-Plain">~</span>
            <span class="l-Scalar-Plain">ignore_case</span><span class="p-Indicator">:</span>          <span class="l-Scalar-Plain">false</span>
            <span class="l-Scalar-Plain">encode_as_base64</span><span class="p-Indicator">:</span>     <span class="l-Scalar-Plain">true</span>
            <span class="l-Scalar-Plain">iterations</span><span class="p-Indicator">:</span>           <span class="l-Scalar-Plain">5000</span>
            <span class="l-Scalar-Plain">id</span><span class="p-Indicator">:</span>                   <span class="l-Scalar-Plain">~</span>

    <span class="l-Scalar-Plain">providers</span><span class="p-Indicator">:</span>            <span class="c1"># Requerido</span>
        <span class="c1"># Ejemplos:</span>
        <span class="l-Scalar-Plain">memory</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span>                <span class="l-Scalar-Plain">memory</span>
            <span class="l-Scalar-Plain">users</span><span class="p-Indicator">:</span>
                <span class="l-Scalar-Plain">foo</span><span class="p-Indicator">:</span>
                    <span class="l-Scalar-Plain">password</span><span class="p-Indicator">:</span>            <span class="l-Scalar-Plain">foo</span>
                    <span class="l-Scalar-Plain">roles</span><span class="p-Indicator">:</span>               <span class="l-Scalar-Plain">ROLE_USER</span>
                <span class="l-Scalar-Plain">bar</span><span class="p-Indicator">:</span>
                    <span class="l-Scalar-Plain">password</span><span class="p-Indicator">:</span>            <span class="l-Scalar-Plain">bar</span>
                    <span class="l-Scalar-Plain">roles</span><span class="p-Indicator">:</span>               <span class="p-Indicator">[</span><span class="nv">ROLE_USER</span><span class="p-Indicator">,</span> <span class="nv">ROLE_ADMIN</span><span class="p-Indicator">]</span>
        <span class="l-Scalar-Plain">entity</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">entity</span><span class="p-Indicator">:</span>
                <span class="l-Scalar-Plain">class</span><span class="p-Indicator">:</span>               <span class="l-Scalar-Plain">SecurityBundle:User</span>
                <span class="l-Scalar-Plain">property</span><span class="p-Indicator">:</span>            <span class="l-Scalar-Plain">username</span>

        <span class="c1"># Ejemplo de proveedor personalizado</span>
        <span class="l-Scalar-Plain">un_proveedor_personalizado</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">id</span><span class="p-Indicator">:</span>                   <span class="l-Scalar-Plain">~</span>
            <span class="l-Scalar-Plain">chain</span><span class="p-Indicator">:</span>
                <span class="l-Scalar-Plain">providers</span><span class="p-Indicator">:</span>            <span class="p-Indicator">[]</span>

    <span class="l-Scalar-Plain">firewalls</span><span class="p-Indicator">:</span>            <span class="c1"># Requerido</span>
        <span class="c1"># Ejemplos:</span>
        <span class="l-Scalar-Plain">cualquiernombre</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">pattern</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">.*</span>
            <span class="l-Scalar-Plain">request_matcher</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">un.id.de.servicio</span>
            <span class="l-Scalar-Plain">access_denied_url</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">/foo/error403</span>
            <span class="l-Scalar-Plain">access_denied_handler</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">un.id.de.servicio</span>
            <span class="l-Scalar-Plain">entry_point</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">un.id.de.servicio</span>
            <span class="l-Scalar-Plain">provider</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">some_key_from_above</span>
            <span class="c1"># manages where each firewall stores session information</span>
            <span class="c1"># See &quot;Firewall Context&quot; below for more details</span>
            <span class="l-Scalar-Plain">context</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">context_key</span>
            <span class="l-Scalar-Plain">stateless</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">false</span>
            <span class="l-Scalar-Plain">x509</span><span class="p-Indicator">:</span>
                <span class="l-Scalar-Plain">provider</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">una_clave_de_arriba</span>
            <span class="l-Scalar-Plain">http_basic</span><span class="p-Indicator">:</span>
                <span class="l-Scalar-Plain">provider</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">una_clave_de_arriba</span>
            <span class="l-Scalar-Plain">http_digest</span><span class="p-Indicator">:</span>
                <span class="l-Scalar-Plain">provider</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">una_clave_de_arriba</span>
            <span class="l-Scalar-Plain">form_login</span><span class="p-Indicator">:</span>
                <span class="c1"># aquí es dónde se presenta el formulario de acceso</span>
                <span class="l-Scalar-Plain">check_path</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">/login_check</span>

                <span class="c1"># el usuario es redirigido aquí cuando necesita ingresar</span>
                <span class="l-Scalar-Plain">login_path</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">/login</span>

                <span class="c1"># si es &#39;true&#39;, reenvía al usuario al formulario de acceso en lugar de redirigirlo</span>
                <span class="l-Scalar-Plain">use_forward</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">false</span>

                <span class="c1"># opciones para redirigir en ingreso satisfactorio (lee más adelante)</span>
                <span class="l-Scalar-Plain">always_use_default_target_path</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">false</span>
                <span class="l-Scalar-Plain">default_target_path</span><span class="p-Indicator">:</span>            <span class="l-Scalar-Plain">/</span>
                <span class="l-Scalar-Plain">target_path_parameter</span><span class="p-Indicator">:</span>          <span class="l-Scalar-Plain">_target_path</span>
                <span class="l-Scalar-Plain">use_referer</span><span class="p-Indicator">:</span>                    <span class="l-Scalar-Plain">false</span>

                <span class="c1"># opciones para redirigir en ingreso fallido (lee más adelante)</span>
                <span class="l-Scalar-Plain">failure_path</span><span class="p-Indicator">:</span>    <span class="l-Scalar-Plain">/foo</span>
                <span class="l-Scalar-Plain">failure_forward</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">false</span>
                <span class="l-Scalar-Plain">failure_path_parameter</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">_failure_path</span>
                <span class="l-Scalar-Plain">failure_handler</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">un.id.de.servicio</span>
                <span class="l-Scalar-Plain">success_handler</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">some.service.id</span>

                <span class="c1"># nombres de campo para el nombre de usuario y contraseña</span>
                <span class="l-Scalar-Plain">username_parameter</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">_username</span>
                <span class="l-Scalar-Plain">password_parameter</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">_password</span>

                <span class="c1"># opciones del elemento csrf</span>
                <span class="l-Scalar-Plain">csrf_parameter</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">_csrf_token</span>
                <span class="l-Scalar-Plain">intention</span><span class="p-Indicator">:</span>      <span class="l-Scalar-Plain">authenticate</span>
                <span class="l-Scalar-Plain">csrf_provider</span><span class="p-Indicator">:</span>  <span class="l-Scalar-Plain">my.csrf_provider.id</span>

                <span class="c1"># por omisión, el método del formulario de acceso DEBE ser POST, no GET</span>
                <span class="l-Scalar-Plain">post_only</span><span class="p-Indicator">:</span>      <span class="l-Scalar-Plain">true</span>
                <span class="l-Scalar-Plain">remember_me</span><span class="p-Indicator">:</span>    <span class="l-Scalar-Plain">false</span>
            <span class="l-Scalar-Plain">remember_me</span><span class="p-Indicator">:</span>
                <span class="l-Scalar-Plain">token_provider</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">name</span>
                <span class="l-Scalar-Plain">key</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">someS3cretKey</span>
                <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">NameOfTheCookie</span>
                <span class="l-Scalar-Plain">lifetime</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">3600</span> <span class="c1"># en segundos</span>
                <span class="l-Scalar-Plain">path</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">/foo</span>
                <span class="l-Scalar-Plain">domain</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">undominio.foo</span>
                <span class="l-Scalar-Plain">secure</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">false</span>
                <span class="l-Scalar-Plain">httponly</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">true</span>
                <span class="l-Scalar-Plain">always_remember_me</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">false</span>
                <span class="l-Scalar-Plain">remember_me_parameter</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">_remember_me</span>
            <span class="l-Scalar-Plain">logout</span><span class="p-Indicator">:</span>
                <span class="l-Scalar-Plain">path</span><span class="p-Indicator">:</span>   <span class="l-Scalar-Plain">/logout</span>
                <span class="l-Scalar-Plain">target</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">/</span>
                <span class="l-Scalar-Plain">invalidate_session</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">false</span>
                <span class="l-Scalar-Plain">delete_cookies</span><span class="p-Indicator">:</span>
                    <span class="l-Scalar-Plain">a</span><span class="p-Indicator">:</span> <span class="p-Indicator">{</span> <span class="nv">path</span><span class="p-Indicator">:</span> <span class="nv">null</span><span class="p-Indicator">,</span> <span class="nv">domain</span><span class="p-Indicator">:</span> <span class="nv">null</span> <span class="p-Indicator">}</span>
                    <span class="l-Scalar-Plain">b</span><span class="p-Indicator">:</span> <span class="p-Indicator">{</span> <span class="nv">path</span><span class="p-Indicator">:</span> <span class="nv">null</span><span class="p-Indicator">,</span> <span class="nv">domain</span><span class="p-Indicator">:</span> <span class="nv">null</span> <span class="p-Indicator">}</span>
                <span class="l-Scalar-Plain">handlers</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">un.id.de.servicio</span><span class="p-Indicator">,</span> <span class="nv">otro.id.de.servicio</span><span class="p-Indicator">]</span>
                <span class="l-Scalar-Plain">success_handler</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">un.id.de.servicio</span>
            <span class="l-Scalar-Plain">anonymous</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">~</span>

        <span class="c1"># Valores y opciones predefinidos para algún cortafuegos</span>
        <span class="l-Scalar-Plain">un_escucha_del_cortafuegos</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">pattern</span><span class="p-Indicator">:</span>              <span class="l-Scalar-Plain">~</span>
            <span class="l-Scalar-Plain">security</span><span class="p-Indicator">:</span>             <span class="l-Scalar-Plain">true</span>
            <span class="l-Scalar-Plain">request_matcher</span><span class="p-Indicator">:</span>      <span class="l-Scalar-Plain">~</span>
            <span class="l-Scalar-Plain">access_denied_url</span><span class="p-Indicator">:</span>    <span class="l-Scalar-Plain">~</span>
            <span class="l-Scalar-Plain">access_denied_handler</span><span class="p-Indicator">:</span>  <span class="l-Scalar-Plain">~</span>
            <span class="l-Scalar-Plain">entry_point</span><span class="p-Indicator">:</span>          <span class="l-Scalar-Plain">~</span>
            <span class="l-Scalar-Plain">provider</span><span class="p-Indicator">:</span>             <span class="l-Scalar-Plain">~</span>
            <span class="l-Scalar-Plain">stateless</span><span class="p-Indicator">:</span>            <span class="l-Scalar-Plain">false</span>
            <span class="l-Scalar-Plain">context</span><span class="p-Indicator">:</span>              <span class="l-Scalar-Plain">~</span>
            <span class="l-Scalar-Plain">logout</span><span class="p-Indicator">:</span>
                <span class="l-Scalar-Plain">csrf_parameter</span><span class="p-Indicator">:</span>       <span class="l-Scalar-Plain">_csrf_token</span>
                <span class="l-Scalar-Plain">csrf_provider</span><span class="p-Indicator">:</span>        <span class="l-Scalar-Plain">~</span>
                <span class="l-Scalar-Plain">intention</span><span class="p-Indicator">:</span>            <span class="l-Scalar-Plain">logout</span>
                <span class="l-Scalar-Plain">path</span><span class="p-Indicator">:</span>                 <span class="l-Scalar-Plain">/logout</span>
                <span class="l-Scalar-Plain">target</span><span class="p-Indicator">:</span>               <span class="l-Scalar-Plain">/</span>
                <span class="l-Scalar-Plain">success_handler</span><span class="p-Indicator">:</span>      <span class="l-Scalar-Plain">~</span>
                <span class="l-Scalar-Plain">invalidate_session</span><span class="p-Indicator">:</span>   <span class="l-Scalar-Plain">true</span>
                <span class="l-Scalar-Plain">delete_cookies</span><span class="p-Indicator">:</span>

                    <span class="c1"># Prototipo</span>
                    <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span>
                        <span class="l-Scalar-Plain">path</span><span class="p-Indicator">:</span>                 <span class="l-Scalar-Plain">~</span>
                        <span class="l-Scalar-Plain">domain</span><span class="p-Indicator">:</span>               <span class="l-Scalar-Plain">~</span>
                <span class="l-Scalar-Plain">handlers</span><span class="p-Indicator">:</span>             <span class="p-Indicator">[]</span>
            <span class="l-Scalar-Plain">anonymous</span><span class="p-Indicator">:</span>
                <span class="l-Scalar-Plain">key</span><span class="p-Indicator">:</span>                  <span class="l-Scalar-Plain">4f954a0667e01</span>
            <span class="l-Scalar-Plain">switch_user</span><span class="p-Indicator">:</span>
                <span class="l-Scalar-Plain">provider</span><span class="p-Indicator">:</span>             <span class="l-Scalar-Plain">~</span>
                <span class="l-Scalar-Plain">parameter</span><span class="p-Indicator">:</span>            <span class="l-Scalar-Plain">_switch_user</span>
                <span class="l-Scalar-Plain">role</span><span class="p-Indicator">:</span>                 <span class="l-Scalar-Plain">ROLE_ALLOWED_TO_SWITCH</span>

    <span class="l-Scalar-Plain">access_control</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">requires_channel</span><span class="p-Indicator">:</span>     <span class="l-Scalar-Plain">~</span>

        <span class="c1"># usa el formato urldecoded</span>
        <span class="l-Scalar-Plain">path</span><span class="p-Indicator">:</span>                 <span class="l-Scalar-Plain">~</span> <span class="c1"># Ejemplo: ^/ruta al recurso/</span>
        <span class="l-Scalar-Plain">host</span><span class="p-Indicator">:</span>                 <span class="l-Scalar-Plain">~</span>
        <span class="l-Scalar-Plain">ip</span><span class="p-Indicator">:</span>                   <span class="l-Scalar-Plain">~</span>
        <span class="l-Scalar-Plain">methods</span><span class="p-Indicator">:</span>              <span class="p-Indicator">[]</span>
        <span class="l-Scalar-Plain">roles</span><span class="p-Indicator">:</span>                <span class="p-Indicator">[]</span>
    <span class="l-Scalar-Plain">role_hierarchy</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">ROLE_ADMIN</span><span class="p-Indicator">:</span>      <span class="p-Indicator">[</span><span class="nv">ROLE_ORGANIZER</span><span class="p-Indicator">,</span> <span class="nv">ROLE_USER</span><span class="p-Indicator">]</span>
        <span class="l-Scalar-Plain">ROLE_SUPERADMIN</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">ROLE_ADMIN</span><span class="p-Indicator">]</span>
</pre></div>
</div>
</li>
</ul>
</div>
</div>
<div class="section" id="configurando-el-formulario-de-acceso">
<span id="reference-security-firewall-form-login"></span><h2>Configurando el formulario de acceso<a class="headerlink" href="#configurando-el-formulario-de-acceso" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Cuando usas el escucha de autenticación <tt class="docutils literal"><span class="pre">form_login</span></tt> bajo un cortafuegos, hay varias opciones comunes para experimentar en la configuración del «formulario de acceso»:</p>
<p>Para más información, consulta <a class="reference internal" href="../../cookbook/security/form_login.html"><em>Cómo personalizar el formulario de acceso</em></a>.</p>
<div class="section" id="procesando-el-formulario-de-acceso">
<h3>Procesando el formulario de acceso<a class="headerlink" href="#procesando-el-formulario-de-acceso" title="Enlazar permanentemente con este título">¶</a></h3>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">login_path</span></tt> (tipo: <tt class="docutils literal"><span class="pre">string</span></tt>, predefinido: <tt class="docutils literal"><span class="pre">/login</span></tt>)
This is the route or path that the user will be redirected to (unless
<tt class="docutils literal"><span class="pre">use_forward</span></tt> is set to <tt class="docutils literal"><span class="pre">true</span></tt>) when he/she tries to access a
protected resource but isn&#8217;t fully authenticated.</p>
<p>This path <strong>must</strong> be accessible by a normal, un-authenticated user, else
you may create a redirect loop. Para más información, consulta «<a class="reference internal" href="../../book/security.html#book-security-common-pitfalls"><em>Evitando errores comunes</em></a>».</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">check_path</span></tt> (tipo: <tt class="docutils literal"><span class="pre">string</span></tt>, predefinido: <tt class="docutils literal"><span class="pre">/login_check</span></tt>)
This is the route or path that your login form must submit to. The
firewall will intercept any requests (<tt class="docutils literal"><span class="pre">POST</span></tt> requests only, by default)
to this URL and process the submitted login credentials.</p>
<p>Asegúrate de que esta dirección está cubierta por el cortafuegos principal (es decir, no crees un servidor de seguridad independiente sólo para la <em>URL</em> <tt class="docutils literal"><span class="pre">check_path</span></tt>).</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">use_forward</span></tt> (tipo: <tt class="docutils literal"><span class="pre">Boolean</span></tt>, predefinido: <tt class="docutils literal"><span class="pre">false</span></tt>)
Si deseas que el usuario sea remitido al formulario de acceso en vez de ser redirigido, marca esta opción a <tt class="docutils literal"><span class="pre">true</span></tt>.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">username_parameter</span></tt> (tipo: <tt class="docutils literal"><span class="pre">string</span></tt>, predefinido: <tt class="docutils literal"><span class="pre">_username</span></tt>)
Este es el nombre del campo que debes dar al campo &#8216;nombre de usuario&#8217; de tu formulario de acceso. Cuando se presenta el formulario a <tt class="docutils literal"><span class="pre">check_path</span></tt>, el sistema de seguridad buscará un parámetro <em>POST</em> con este nombre.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">password_parameter</span></tt> (tipo: <tt class="docutils literal"><span class="pre">string</span></tt>, predefinido: <tt class="docutils literal"><span class="pre">_password</span></tt>)
Este es el nombre de campo que se debe dar al campo de la contraseña de tu formulario de inicio de sesión. Cuando se presenta el formulario a <tt class="docutils literal"><span class="pre">check_path</span></tt>, el sistema de seguridad buscará un parámetro <em>POST</em> con este nombre.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">post_only</span></tt> (tipo: <tt class="docutils literal"><span class="pre">Boolean</span></tt>, predefinido: <tt class="docutils literal"><span class="pre">true</span></tt>)
De forma predeterminada, debes enviar tu formulario de acceso a la <em>URL</em> <tt class="docutils literal"><span class="pre">check_path</span></tt> como una petición <em>POST</em>. Al poner esta opción a <tt class="docutils literal"><span class="pre">false</span></tt>, puedes enviar una petición <em>GET</em> a la <em>URL</em> <tt class="docutils literal"><span class="pre">check_path</span></tt>.</p>
</li>
</ul>
</div>
<div class="section" id="redirigiendo-despues-del-inicio-de-sesion">
<h3>Redirigiendo después del inicio de sesión<a class="headerlink" href="#redirigiendo-despues-del-inicio-de-sesion" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">always_use_default_target_path</span></tt> (tipo: <tt class="docutils literal"><span class="pre">Boolean</span></tt>, predefinido: <tt class="docutils literal"><span class="pre">false</span></tt>)</li>
<li><tt class="docutils literal"><span class="pre">default_target_path</span></tt> (tipo: <tt class="docutils literal"><span class="pre">string</span></tt>, predefinido: <tt class="docutils literal"><span class="pre">/</span></tt>)</li>
<li><tt class="docutils literal"><span class="pre">target_path_parameter</span></tt> (tipo: <tt class="docutils literal"><span class="pre">string</span></tt>, predefinido: <tt class="docutils literal"><span class="pre">_target_path</span></tt>)</li>
<li><tt class="docutils literal"><span class="pre">use_referer</span></tt> (tipo: <tt class="docutils literal"><span class="pre">Boolean</span></tt>, predefinido: <tt class="docutils literal"><span class="pre">false</span></tt>)</li>
</ul>
</div>
</div>
<div class="section" id="usando-el-codificador-pbkdf2-security-and-speed">
<span id="reference-security-pbkdf2"></span><h2>Usando el codificador <tt class="docutils literal"><span class="pre">PBKDF2</span></tt>: Security and Speed<a class="headerlink" href="#usando-el-codificador-pbkdf2-security-and-speed" title="Enlazar permanentemente con este título">¶</a></h2>
<p class="versionadded">
<span class="versionmodified">Nuevo en la versión 2.2: </span>The PBKDF2 password encoder was added in Symfony 2.2.</p>
<p>El codificador <a class="reference external" href="http://en.wikipedia.org/wiki/PBKDF2">PBKDF2</a> proporciona seguridad criptográfica de alto nivel, tal como la recomendada por el Instituto Nacional de Estándares y Tecnología (NIST por <em>«National Institute of Standards and Technology»</em>).</p>
<p>You can see an example of the <tt class="docutils literal"><span class="pre">pbkdf2</span></tt> encoder in the YAML block on this page.</p>
<p>Pero usando <tt class="docutils literal"><span class="pre">PBKDF2</span></tt> también garantizas un aviso: Usándolo (con un número de iteraciones alto) ralentiza el proceso. Por lo que, <tt class="docutils literal"><span class="pre">PBKDF2</span></tt> se tendría que utilizar con precaución y muchísimo cuidado.</p>
<p>Una buena configuración está alrededor al menos 1000 iteraciones y <tt class="docutils literal"><span class="pre">sha512</span></tt>
para el algoritmo de codificación.</p>
</div>
<div class="section" id="using-the-bcrypt-password-encoder">
<span id="reference-security-bcrypt"></span><h2>Using the BCrypt Password Encoder<a class="headerlink" href="#using-the-bcrypt-password-encoder" title="Enlazar permanentemente con este título">¶</a></h2>
<p class="versionadded">
<span class="versionmodified">Nuevo en la versión 2.2: </span>The BCrypt password encoder was added in Symfony 2.2.</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml"><div class="highlight"><pre><span class="c1"># app/config/security.yml</span>
<span class="l-Scalar-Plain">security</span><span class="p-Indicator">:</span>
    <span class="c1"># ...</span>

    <span class="l-Scalar-Plain">encoders</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">Symfony\Component\Security\Core\User\User</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">algorithm</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">bcrypt</span>
            <span class="l-Scalar-Plain">cost</span><span class="p-Indicator">:</span>      <span class="l-Scalar-Plain">15</span>
</pre></div>
</div>
</li>
<li><em>XML</em><div class="highlight-xml"><div class="highlight"><pre><span class="c">&lt;!-- app/config/security.xml --&gt;</span>
<span class="nt">&lt;config&gt;</span>
    <span class="c">&lt;!-- ... --&gt;</span>
    <span class="nt">&lt;encoder</span>
        <span class="na">class=</span><span class="s">&quot;Symfony\Component\Security\Core\User\User&quot;</span>
        <span class="na">algorithm=</span><span class="s">&quot;bcrypt&quot;</span>
        <span class="na">cost=</span><span class="s">&quot;15&quot;</span>
    <span class="nt">/&gt;</span>
<span class="nt">&lt;/config&gt;</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="c1">// app/config/security.php</span>
<span class="nv">$container</span><span class="o">-&gt;</span><span class="na">loadFromExtension</span><span class="p">(</span><span class="s1">&#39;security&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="c1">// ...</span>
    <span class="s1">&#39;encoders&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;Symfony\Component\Security\Core\User\User&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
            <span class="s1">&#39;algorithm&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;bcrypt&#39;</span><span class="p">,</span>
            <span class="s1">&#39;cost&#39;</span>      <span class="o">=&gt;</span> <span class="mi">15</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">),</span>
<span class="p">));</span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>The <tt class="docutils literal"><span class="pre">cost</span></tt> can be in the range of <tt class="docutils literal"><span class="pre">4-31</span></tt> and determines how long a password
will be encoded. Each increment of <tt class="docutils literal"><span class="pre">cost</span></tt> <em>doubles</em> the time it takes to
encode a password.</p>
<p>If you don&#8217;t provide the <tt class="docutils literal"><span class="pre">cost</span></tt> option, the default cost of <tt class="docutils literal"><span class="pre">13</span></tt> is used.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">You can change the cost at any time — even if you already have some
passwords encoded using a different cost. New passwords will be encoded
using the new cost, while the already encoded ones will be validated
using a cost that was used back when they were encoded.</p>
</div>
<p>A salt for each new password is generated automatically and need not be
persisted. Since an encoded password contains the salt used to encode it,
persisting the encoded password alone is enough.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">All the encoded passwords are <tt class="docutils literal"><span class="pre">60</span></tt> characters long, so make sure to
allocate enough space for them to be persisted.</p>
</div>
</div>
<div class="section" id="firewall-context">
<span id="reference-security-firewall-context"></span><h2>Firewall Context<a class="headerlink" href="#firewall-context" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Most applications will only need one <a class="reference internal" href="../../book/security.html#book-security-firewalls"><em>firewall</em></a>.
But if your application <em>does</em> use multiple firewalls, you&#8217;ll notice that
if you&#8217;re authenticated in one firewall, you&#8217;re not automatically authenticated
in another. In other words, the systems don&#8217;t share a common &#8220;context&#8221;: each
firewall acts like a separate security system.</p>
<p>However, each firewall has an optional <tt class="docutils literal"><span class="pre">context</span></tt> key (which defaults to
the name of the firewall), which is used when storing and retrieving security
data to and from the session. If this key were set to the same value across
multiple firewalls, the &#8220;context&#8221; could actually be shared:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml"><div class="highlight"><pre><span class="c1"># app/config/security.yml</span>
<span class="l-Scalar-Plain">security</span><span class="p-Indicator">:</span>
    <span class="c1"># ...</span>

    <span class="l-Scalar-Plain">firewalls</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">cualquiernombre</span><span class="p-Indicator">:</span>
            <span class="c1"># ...</span>
            <span class="l-Scalar-Plain">context</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">my_context</span>
        <span class="l-Scalar-Plain">othername</span><span class="p-Indicator">:</span>
            <span class="c1"># ...</span>
            <span class="l-Scalar-Plain">context</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">my_context</span>
</pre></div>
</div>
</li>
<li><em>XML</em><div class="highlight-xml"><div class="highlight"><pre><span class="c">&lt;!-- app/config/security.xml --&gt;</span>
<span class="nt">&lt;security:config&gt;</span>
   <span class="nt">&lt;firewall</span> <span class="na">name=</span><span class="s">&quot;somename&quot;</span> <span class="na">context=</span><span class="s">&quot;my_context&quot;</span><span class="nt">&gt;</span>
     <span class="cp">&lt;! ... -&gt;</span>
   <span class="nt">&lt;/firewall&gt;</span>
   <span class="nt">&lt;firewall</span> <span class="na">name=</span><span class="s">&quot;othername&quot;</span> <span class="na">context=</span><span class="s">&quot;my_context&quot;</span><span class="nt">&gt;</span>
     <span class="cp">&lt;! ... -&gt;</span>
   <span class="nt">&lt;/firewall&gt;</span>
<span class="nt">&lt;/security:config&gt;</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="c1">// app/config/security.php</span>
<span class="nv">$container</span><span class="o">-&gt;</span><span class="na">loadFromExtension</span><span class="p">(</span><span class="s1">&#39;security&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
     <span class="s1">&#39;firewalls&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
         <span class="s1">&#39;somename&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
             <span class="c1">// ...</span>
             <span class="s1">&#39;context&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;my_context&#39;</span>
         <span class="p">),</span>
         <span class="s1">&#39;othername&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
             <span class="c1">// ...</span>
             <span class="s1">&#39;context&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;my_context&#39;</span>
         <span class="p">),</span>
     <span class="p">),</span>
<span class="p">));</span>
</pre></div>
</div>
</li>
</ul>
</div>
</div>
<div class="section" id="http-digest-authentication">
<h2>HTTP-Digest Authentication<a class="headerlink" href="#http-digest-authentication" title="Enlazar permanentemente con este título">¶</a></h2>
<p>To use HTTP-Digest authentication you need to provide a realm and a key:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml"><div class="highlight"><pre><span class="c1"># app/config/security.yml</span>
<span class="l-Scalar-Plain">security</span><span class="p-Indicator">:</span>
   <span class="l-Scalar-Plain">firewalls</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">cualquiernombre</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">http_digest</span><span class="p-Indicator">:</span>
         <span class="l-Scalar-Plain">key</span><span class="p-Indicator">:</span> <span class="s">&quot;a_random_string&quot;</span>
         <span class="l-Scalar-Plain">realm</span><span class="p-Indicator">:</span> <span class="s">&quot;secure-api&quot;</span>
</pre></div>
</div>
</li>
<li><em>XML</em><div class="highlight-xml"><div class="highlight"><pre><span class="c">&lt;!-- app/config/security.xml --&gt;</span>
<span class="nt">&lt;security:config&gt;</span>
   <span class="nt">&lt;firewall</span> <span class="na">name=</span><span class="s">&quot;somename&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;http-digest</span> <span class="na">key=</span><span class="s">&quot;a_random_string&quot;</span> <span class="na">realm=</span><span class="s">&quot;secure-api&quot;</span> <span class="nt">/&gt;</span>
   <span class="nt">&lt;/firewall&gt;</span>
<span class="nt">&lt;/security:config&gt;</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="c1">// app/config/security.php</span>
<span class="nv">$container</span><span class="o">-&gt;</span><span class="na">loadFromExtension</span><span class="p">(</span><span class="s1">&#39;security&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
     <span class="s1">&#39;firewalls&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
         <span class="s1">&#39;somename&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
             <span class="s1">&#39;http_digest&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
                 <span class="s1">&#39;key&#39;</span>   <span class="o">=&gt;</span> <span class="s1">&#39;a_random_string&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;realm&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;secure-api&#39;</span><span class="p">,</span>
             <span class="p">),</span>
         <span class="p">),</span>
     <span class="p">),</span>
<span class="p">));</span>
</pre></div>
</div>
</li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <a href="https://github.com/symfony/symfony-standard"><img style="position: fixed; top: 0; right: 0; border: 0;" src="http://gitnacho.github.com/tnp/img/comun/bifurcame.png" alt="Bifúrcame en GitHub" /></a>
  
  <div style="width:740px;margin:10px auto;">
    <div class="related">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="Índice General"
             >índice</a></li>
        <li class="right" >
          <a href="swiftmailer.html" title="Configurando el SwiftmailerBundle (&#34;swiftmailer&#34;)"
             >siguiente</a> |</li>
        <li class="right" >
          <a href="doctrine.html" title="Referencia de configuración de Doctrine"
             >anterior</a> |</li>
        <li><a href="../../index.html">en Español</a> &raquo;</li>
          <li><a href="../index.html" >Documentos de referencia</a> &raquo;</li> 
      </ul>
    </div>
  </div>


   <div style="width: 740px; margin: 0 auto;">
     <div id="disqus_thread"></div>
     
    <div class="footer">
        &copy; Copyright 2011-2013, Traducido por Nacho Pacheco.
      Actualizado por última vez en Mar 19, 2013.
      Creado con <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
   </div>
   <script type="text/javascript">
    var disqus_shortname = 'documentos-mx';
    var disqus_developer = 1;
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
   </script>
   <noscript>
     Por favor activa JavaScript para ver los <a href="http://disqus.com/?ref_noscript">comentarios accionados por Disqus.</a>
   </noscript>

  </body>
</html>