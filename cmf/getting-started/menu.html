
<!DOCTYPE html> 
<html lang="es">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Menú &mdash; Manual de Symfony2 en Español</title>
    
    <link rel="stylesheet" href="../../_static/tnp.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2.0.15',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/translations.js"></script>
    <link rel="shortcut icon" href="../../_static/icotnp.ico"/>
    <link rel="top" title="Manual de Symfony2 en Español" href="../../index.html" />
    <link rel="up" title="Documentación del CMF de Symfony" href="../index.html" />
    <link rel="next" title="SimpleCMS" href="simplecms.html" />
    <link rel="prev" title="Contenido" href="content.html" /> 
  </head>
  <body>
  <div class="imalogo">
    
  <a href="../../index.html"><img src="http://gitnacho.github.com/tnp/img/sf/logo-big.gif" alt="Edición estándar de Symfony2" />
  
    <a href="../../index.html"><img src="http://gitnacho.github.com/tnp/_static/normaltnp.png" alt="Traducciones de Nacho Pacheco" /></a>
    <div class="social">
      <a href="https://twitter.com/share" class="twitter-share-button" data-via="esymfony" data-lang="es">Tweet</a>
      <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
    </div>
    <div id="searchbox">
      <form class="searc " action="../../search.html" method="get">
      <input type="search" name="q" placeholder="Término a buscar" />
      <input type="submit" value="Ir" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <script type="text/javascript">$('#searchbox').show(0);</script>
    </div>
    

    <div class="related">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="Índice General"
             accesskey="I">índice</a></li>
        <li class="right" >
          <a href="simplecms.html" title="SimpleCMS"
             accesskey="N">siguiente</a> |</li>
        <li class="right" >
          <a href="content.html" title="Contenido"
             accesskey="P">anterior</a> |</li>
        <li><a href="../../index.html">en Español</a> &raquo;</li>
          <li><a href="../index.html" accesskey="U">Documentación del <tt class="docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal"><span class="pre">CMF</span></tt> de <em>Symfony</em></a> &raquo;</li> 
      </ul>
    </div>
  </div>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="menu">
<h1>Menú<a class="headerlink" href="#menu" title="Enlazar permanentemente con este título">¶</a></h1>
<div class="section" id="concepto">
<h2>Concepto<a class="headerlink" href="#concepto" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Ningún sistema <em>CMS</em> está completo sin un sistema de menús que permita a los usuarios navegar entre las páginas de contenido y realizar determinadas acciones. Si bien, normalmente asignan el contenido real en una estructura de árbol, los menús a menudo tienen su propia lógica, incluyendo opciones no asignadas al contenido o existentes en múltiples contextos con múltiples opciones, por ello volviéndolos un problema complejo.</p>
</div>
<div class="section" id="el-sistema-de-menus-del-cms-de-symfony">
<h2>El sistema de menús del <tt class="docutils literal"><span class="pre">CMS</span></tt> de <em>Symfony</em><a class="headerlink" href="#el-sistema-de-menus-del-cms-de-symfony" title="Enlazar permanentemente con este título">¶</a></h2>
<p>La <em>EE</em> del <tt class="docutils literal"><span class="pre">CMF</span></tt> de <em>Symfony</em> incluye el <tt class="docutils literal"><span class="pre">MenuBundle</span></tt>, una herramienta que te permite definir tus menús dinámicamente. It extends <a class="reference external" href="https://github.com/knplabs/KnpMenuBundle">KnpMenuBundle</a>,
with a set of hierarchical, multi language menu elements, along with the tools
to load and store them from/to a database. También incluye las definiciones de la interfaz de administración y servicios relacionados necesarios para integrarlo con el <a class="reference external" href="https://github.com/sonata-project/SonataDoctrinePhpcrAdminBundle">SonataDoctrinePHPCRAdminBundle</a>.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">El <tt class="docutils literal"><span class="pre">MenuBundle</span></tt> extiende y en gran medida depende del <a class="reference external" href="https://github.com/knplabs/KnpMenuBundle">KnpMenuBundle</a>, por lo tanto tienes que leer cuidadosamente la <a class="reference external" href="https://github.com/KnpLabs/KnpMenuBundle/blob/master/Resources/doc/index.md">documentación del KnpMenuBundle</a>.
Para el resto de esta página se supone que has leido dicha documentación, y estás familiarizado con conceptos como proveedores de menús y factorías de menús.</p>
</div>
<div class="section" id="usando">
<h3>Usando<a class="headerlink" href="#usando" title="Enlazar permanentemente con este título">¶</a></h3>
<p>De manera predeterminada el <tt class="docutils literal"><span class="pre">MenuBundle</span></tt> usa los reproductores y ayudantes del <tt class="docutils literal"><span class="pre">KnpMenuBundle</span></tt> para imprimir tus menús. Puedes consultar la <a class="reference external" href="https://github.com/KnpLabs/KnpMenuBundle/blob/master/Resources/doc/index.md#rendering-menus">página de documentación respectiva</a> para más información sobre el tema, pero una llamada básica sería:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{{</span> <span class="nv">knp_menu_render</span><span class="o">(</span><span class="s1">&#39;simple&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
<p>El nombre del menú proporcionado será pasado a la implementación de la <tt class="docutils literal"><span class="pre">MenuProviderInterface</span></tt>, la cual lo utilizará para identificar qué menú quieres dibujar en esa sección específica.</p>
</div>
<div class="section" id="el-proveedor">
<h3>El proveedor<a class="headerlink" href="#el-proveedor" title="Enlazar permanentemente con este título">¶</a></h3>
<p>El núcleo del <tt class="docutils literal"><span class="pre">MenuBundle</span></tt> es <tt class="docutils literal"><span class="pre">PHPCRMenuProvider</span></tt>, una implementación de la <tt class="docutils literal"><span class="pre">MenuProviderInterface</span></tt> que es responsable de cargar menús dinámicamente desde una base de datos <em>PHPCR</em>. It does so based on the menu root&#8217;s <tt class="docutils literal"><span class="pre">path</span></tt> value, by combining
a preconfigured <tt class="docutils literal"><span class="pre">basepath</span></tt> value with a <tt class="docutils literal"><span class="pre">name</span></tt> given by the developer
when instantiating the menu rendering call. Esto permite al <tt class="docutils literal"><span class="pre">PHPCRMenuProvider</span></tt> manejar varias jerarquías del menú utilizando un sólo mecanismo de almacenamiento.</p>
<p>El elemento del menú recuperado usando este proceso se utiliza como el nodo raíz del menú, y sus hijos serán cargados progresivamente conforme el <tt class="docutils literal"><span class="pre">MenuFactory</span></tt> vaya dibujando la estructura del menú completo.</p>
</div>
<div class="section" id="la-factoria">
<h3>La factoría<a class="headerlink" href="#la-factoria" title="Enlazar permanentemente con este título">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">ContentAwareFactory</span></tt> is a <tt class="docutils literal"><span class="pre">FactoryInterface</span></tt> implementation, which
generates the full <tt class="docutils literal"><span class="pre">MenuNode</span></tt> hierarchy from the provided data. Los datos generados de este modo se utilizan más tarde para generar la representación <em>HTML</em> real del menú.</p>
<p>The included implementation focuses on generating <tt class="docutils literal"><span class="pre">MenuNode</span></tt> instances
from <tt class="docutils literal"><span class="pre">NodeInterface</span></tt> instances, as it is the best approach to handle tree-like
structures like the ones typically used by CMS. Otros planteamientos están implementados en la extensión de clases, y sus respectivas páginas de documentación se pueden encontrar en la página del <a class="reference external" href="https://github.com/knplabs/KnpMenuBundle">KnpMenuBundle</a>.</p>
<p><tt class="docutils literal"><span class="pre">ContentAwareFactory</span></tt> is responsible for getting the full menu hierarchy
and rendering the respective <tt class="docutils literal"><span class="pre">MenuNode</span></tt> instances from the root node it
receives from the <tt class="docutils literal"><span class="pre">MenuProviderInterface</span></tt> implementation. También es responsable de determinar cuál elemento del menú (si lo hay) está viendo el usuario actualmente. <tt class="docutils literal"><span class="pre">KnpMenu</span></tt> ya incluye una factoría específica apuntada en el componente de enrutado de <em>Symfony2</em>, la cual extiende este paquete, para añadir el soporte necesario para:</p>
<ul class="simple">
<li>Almacenar instancias de <tt class="docutils literal"><span class="pre">Ruta</span></tt> en la base de datos (consulta la sección de <a class="reference internal" href="routing.html#routing-getting-route-object"><em>paquetes y proveedores de enrutado</em></a> para más detalles sobre esto)</li>
<li>Instancias de <tt class="docutils literal"><span class="pre">Ruta</span></tt> con contenido asociado (más sobre esto en la respectiva sección del  <a class="reference internal" href="routing.html#routing-linking-a-route-with-a-model-instance"><em>RoutingBundle</em></a>)</li>
</ul>
<p>Como se mencionó antes, la <tt class="docutils literal"><span class="pre">ContentAwareFactory</span></tt> es responsable de cargar todos los nodos del menú a partir del elemento raíz proporcionado. Los nodos cargados realmente pueden ser de cualquier clase, incluso si son diferentes de la clase del nodo raíz, pero todos tienen que implementar la <tt class="docutils literal"><span class="pre">NodeInterface</span></tt> para poder incluirlos en el menú generado.</p>
</div>
<div class="section" id="los-nodos-del-menu">
<h3>Los nodos del menú<a class="headerlink" href="#los-nodos-del-menu" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Además, incluidos en el <tt class="docutils literal"><span class="pre">MenuBundle</span></tt> vienen dos tipos de nodos de contenido del menú: <tt class="docutils literal"><span class="pre">MenuNode</span></tt> y <tt class="docutils literal"><span class="pre">MultilangMenuNode</span></tt>. Si leíste la página de documentación relativa al <a class="reference internal" href="content.html"><em>Contenido</em></a>, encontrarás un tanto familiar esta implementación. El <tt class="docutils literal"><span class="pre">MenuNode</span></tt>
Implementa la <tt class="docutils literal"><span class="pre">NodeInterface</span></tt> mencionada arriba, y mantiene la información relacionada a una sola entrada del menú: Una <tt class="docutils literal"><span class="pre">etiqueta</span></tt> y una <tt class="docutils literal"><span class="pre">uri</span></tt>, una lista de <tt class="docutils literal"><span class="pre">hijos</span></tt>, tal como esperarías, más algunos <tt class="docutils literal"><span class="pre">atributos</span></tt> para él y sus
hijos, mismos que te permiten personalizar el proceso de reproducción real.
También incluye un campo <tt class="docutils literal"><span class="pre">Route</span></tt> y dos referencias al <tt class="docutils literal"><span class="pre">Contenido</span></tt>. Estas se usan para almacenar un objeto <tt class="docutils literal"><span class="pre">Route</span></tt> asociado, más un elemento (no dos, a pesar del hecho de que existen dos campos) de <tt class="docutils literal"><span class="pre">Contenido</span></tt>. El <tt class="docutils literal"><span class="pre">MenuNode</span></tt> puede tener una referencia fuerte (garantizando la integridad) o débil (sin garantizar la integridad) al elemento de <tt class="docutils literal"><span class="pre">Contenido</span></tt> real al que apunta, tu trabajo es elegir la que sea más adecuada en tu escenario. Puedes encontrar más información y referencias en la página de la documentación del <a class="reference external" href="http://docs.doctrine-project.org/projects/doctrine-phpcr-odm/en/latest/reference/association-mapping.html#references">PHPCR de Doctrine</a>.</p>
<p><tt class="docutils literal"><span class="pre">MultilangMenuNode</span></tt> extiende al <tt class="docutils literal"><span class="pre">MenuNode</span></tt> con apoyo multilingüe. Añade un campo <tt class="docutils literal"><span class="pre">locale</span></tt> para identificar qué traducción pertenece a cada menú, más una <tt class="docutils literal"><span class="pre">etiqueta</span></tt> y una <tt class="docutils literal"><span class="pre">uri</span></tt> en los campos marcados como <tt class="docutils literal"><span class="pre">translated=true</span></tt>, lo cual significa que diferirán entre traducciones, a diferencia de los otros campos.</p>
<p>También especifica la estrategia utilizada para almacenar múltiples traducciones en la base de datos:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="sd">/**</span>
<span class="sd">* @PHPCRODM\Document(translator=&quot;attribute&quot;)</span>
<span class="sd">*/</span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>For information on the available translation strategies, refer to the Doctrine
page regarding <a class="reference external" href="http://docs.doctrine-project.org/projects/doctrine-phpcr-odm/en/latest/reference/multilang.html">Multi language support in PHPCR-ODM</a></p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">The <tt class="docutils literal"><span class="pre">MenuNode</span></tt> and <tt class="docutils literal"><span class="pre">MultilangMenuNode</span></tt> content types exist to preserve
backwards compatibility with previous versions of the bundle, but they
simply extend their Node counterparts. Estas clases están depreciadas, y serán removidas en una versión posterior.</p>
</div>
</div>
</div>
<div class="section" id="soporte-para-la-administracion">
<h2>Soporte para la administración<a class="headerlink" href="#soporte-para-la-administracion" title="Enlazar permanentemente con este título">¶</a></h2>
<p><tt class="docutils literal"><span class="pre">MenuBundle</span></tt> also includes the administration panels and respective services
needed for integration with <a class="reference external" href="https://github.com/sonata-project/SonataDoctrinePhpcrAdminBundle">SonataDoctrinePHPCRAdminBundle</a>,
a back office generation tool that can be installed with Symfony CMF. Para más información sobre esta, por favor consulta la sección de documentación del <a class="reference external" href="https://github.com/sonata-project/SonataDoctrinePhpcrAdminBundle/tree/master/Resources/doc">paquete</a>.</p>
<p>Las interfaces de administración incluidas serán cargadas automáticamente si instalas el <tt class="docutils literal"><span class="pre">SonataDoctrinePHPCRAdminBundle</span></tt> (consulta <a class="reference internal" href="../tutorials/creating-cms-using-cmf-and-sonata.html"><em>Creando un CMS con CMF y Sonata</em></a> para instrucciones sobre cómo hacerlo).</p>
</div>
<div class="section" id="configurando">
<h2>Configurando<a class="headerlink" href="#configurando" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Este paquete se configura usando un conjunto de parámetros, pero todos ellos son opcionales. You can go to the <a class="reference internal" href="../bundles/menu.html"><em>MenuBundle</em></a> reference page for the
full configuration options list and additional information.</p>
</div>
<div class="section" id="notas-adicionales">
<h2>Notas adicionales<a class="headerlink" href="#notas-adicionales" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Para más información sobre el <tt class="docutils literal"><span class="pre">MenuBundle</span></tt> del <tt class="docutils literal"><span class="pre">CMF</span></tt> de <em>Symfony</em>, por favor consulta:</p>
<ul class="simple">
<li><a class="reference internal" href="../bundles/menu.html"><em>MenuBundle</em></a> for advanced details and configuration reference</li>
<li><a class="reference external" href="https://github.com/knplabs/KnpMenuBundle">KnpMenuBundle</a> page for information on the bundle on which <tt class="docutils literal"><span class="pre">MenuBundle</span></tt> relies</li>
<li><a class="reference external" href="https://github.com/knplabs/KnpMenu">KnpMenu</a> page for information on the underlying library used by <tt class="docutils literal"><span class="pre">KnpMenuBundle</span></tt></li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <a href="https://github.com/symfony/symfony-standard"><img style="position: fixed; top: 0; right: 0; border: 0;" src="http://gitnacho.github.com/tnp/img/comun/bifurcame.png" alt="Bifúrcame en GitHub" /></a>
  
  <div style="width:740px;margin:10px auto;">
    <div class="related">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="Índice General"
             >índice</a></li>
        <li class="right" >
          <a href="simplecms.html" title="SimpleCMS"
             >siguiente</a> |</li>
        <li class="right" >
          <a href="content.html" title="Contenido"
             >anterior</a> |</li>
        <li><a href="../../index.html">en Español</a> &raquo;</li>
          <li><a href="../index.html" >Documentación del <tt class="docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal"><span class="pre">CMF</span></tt> de <em>Symfony</em></a> &raquo;</li> 
      </ul>
    </div>
  </div>


   <div style="width: 740px; margin: 0 auto;">
     <div id="disqus_thread"></div>
     
    <div class="footer">
        &copy; Copyright 2011-2013, Traducido por Nacho Pacheco.
      Actualizado por última vez en Mar 19, 2013.
      Creado con <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
   </div>
   <script type="text/javascript">
    var disqus_shortname = 'documentos-mx';
    var disqus_developer = 1;
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
   </script>
   <noscript>
     Por favor activa JavaScript para ver los <a href="http://disqus.com/?ref_noscript">comentarios accionados por Disqus.</a>
   </noscript>

  </body>
</html>