
<!DOCTYPE html> 
<html lang="es">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>CreateBundle &mdash; Manual de Symfony2 en Español</title>
    
    <link rel="stylesheet" href="../../_static/tnp.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2.0.15',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/translations.js"></script>
    <link rel="shortcut icon" href="../../_static/icotnp.ico"/>
    <link rel="top" title="Manual de Symfony2 en Español" href="../../index.html" />
    <link rel="up" title="Documentación del CMF de Symfony" href="../index.html" />
    <link rel="next" title="DoctrinePHPCRBundle" href="phpcr-odm.html" />
    <link rel="prev" title="CoreBundle" href="core.html" /> 
  </head>
  <body>
  <div class="imalogo">
    
  <a href="../../index.html"><img src="http://gitnacho.github.com/tnp/img/sf/logo-big.gif" alt="Edición estándar de Symfony2" />
  
    <a href="../../index.html"><img src="http://gitnacho.github.com/tnp/_static/normaltnp.png" alt="Traducciones de Nacho Pacheco" /></a>
    <div class="social">
      <a href="https://twitter.com/share" class="twitter-share-button" data-via="esymfony" data-lang="es">Tweet</a>
      <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
    </div>
    <div id="searchbox">
      <form class="searc " action="../../search.html" method="get">
      <input type="search" name="q" placeholder="Término a buscar" />
      <input type="submit" value="Ir" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <script type="text/javascript">$('#searchbox').show(0);</script>
    </div>
    

    <div class="related">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="Índice General"
             accesskey="I">índice</a></li>
        <li class="right" >
          <a href="phpcr-odm.html" title="DoctrinePHPCRBundle"
             accesskey="N">siguiente</a> |</li>
        <li class="right" >
          <a href="core.html" title="CoreBundle"
             accesskey="P">anterior</a> |</li>
        <li><a href="../../index.html">en Español</a> &raquo;</li>
          <li><a href="../index.html" accesskey="U">Documentación del <tt class="docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal"><span class="pre">CMF</span></tt> de <em>Symfony</em></a> &raquo;</li> 
      </ul>
    </div>
  </div>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="createbundle">
<h1><tt class="docutils literal"><span class="pre">CreateBundle</span></tt><a class="headerlink" href="#createbundle" title="Enlazar permanentemente con este título">¶</a></h1>
<p>El <a class="reference external" href="https://github.com/symfony-cmf/CreateBundle">CreateBundle</a> integra a <em>Symfony 2</em> las bibliotecas ayudante <tt class="file docutils literal"><span class="pre">create.js</span></tt> y <tt class="file docutils literal"><span class="pre">createphp</span></tt>.</p>
<p><tt class="file docutils literal"><span class="pre">create.js</span></tt> es una comprensible interfaz de edición <em>web</em> para Sistemas de administración de contenido (<em>CMS</em>). Está diseñado para proporcionar un moderno gestor de contenido, totalmente basado en un entorno de navegadores HTML5. Creado para poder adaptarlo para trabajar en casi cualquier interfaz de administración de contenido.
Ve <a class="reference external" href="http://createjs.org/">http://createjs.org/</a></p>
<p><tt class="docutils literal"><span class="pre">Createphp</span></tt> es una biblioteca <em>PHP</em> para ayudarte con anotaciones <em>RDF</em> en tus entidades/documentos.
Ve la documentación sobre como trabaja en <a class="reference external" href="https://github.com/flack/createphp">https://github.com/flack/createphp</a>.</p>
<div class="section" id="dependencias">
<span id="index-0"></span><h2>Dependencias<a class="headerlink" href="#dependencias" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Este paquete incluye <tt class="file docutils literal"><span class="pre">create.js</span></tt> (el cuál empaca todas sus dependencias como <em>jquery</em>, <em>vie</em>, <em>hallo</em>, <em>backbone</em>, etc.) como submódulos <em>git</em>. No olvides añadir el guión del controlador de <tt class="docutils literal"><span class="pre">composer</span></tt> a tu archivo <tt class="file docutils literal"><span class="pre">composer.json</span></tt> como se describe abajo.</p>
<p>Las dependencias de <em>PHP</em> son manejadas por medio de <tt class="docutils literal"><span class="pre">composer</span></tt>. Utilizamos <tt class="docutils literal"><span class="pre">createphp</span></tt> así como <tt class="docutils literal"><span class="pre">AsseticBundle</span></tt>, <tt class="docutils literal"><span class="pre">FOSRestBundle</span></tt> y por inferencia también <tt class="docutils literal"><span class="pre">JmsSerializerBundle</span></tt>. Asegúrate de crear una instancia de todos estos paquetes en tu nucleo y de configurar correctamente el <tt class="docutils literal"><span class="pre">assetic</span></tt>.</p>
</div>
<div class="section" id="instalando">
<h2>Instalando<a class="headerlink" href="#instalando" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Este paquete se incluye mejor utilizando <tt class="docutils literal"><span class="pre">Composer</span></tt>.</p>
<p>Edita el archivo <tt class="docutils literal"><span class="pre">composer</span></tt> de tu proyecto añadiendo un nuevo requisito para <tt class="docutils literal"><span class="pre">symfony-cmf/create-bundle</span></tt>.
Luego, crea una sección de guiones o añádelo a una existente:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="p-Indicator">{</span>
    <span class="s">&quot;scripts&quot;</span><span class="p-Indicator">:</span> <span class="p-Indicator">{</span>
        <span class="s">&quot;post-install-cmd&quot;</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span>
            <span class="s">&quot;Symfony\\Cmf\\Bundle\\CreateBundle\\Composer\\ScriptHandler::initSubmodules&quot;</span><span class="p-Indicator">,</span>
            <span class="nv">...</span>
        <span class="p-Indicator">],</span>
        <span class="s">&quot;post-update-cmd&quot;</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span>
            <span class="s">&quot;Symfony\\Cmf\\Bundle\\CreateBundle\\Composer\\ScriptHandler::initSubmodules&quot;</span><span class="p-Indicator">,</span>
            <span class="nv">...</span>
        <span class="p-Indicator">]</span>
    <span class="p-Indicator">}</span>
<span class="p-Indicator">}</span>
</pre></div>
</div>
<p>Añade este paquete (y sus dependencias, si aún no están) al núcleo de tu aplicación:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="c1">// application/ApplicationKernel.php</span>
<span class="k">public</span> <span class="k">function</span> <span class="nf">registerBundles</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="k">array</span><span class="p">(</span>
        <span class="c1">// ...</span>
        <span class="k">new</span> <span class="nx">Symfony\Bundle\AsseticBundle\AsseticBundle</span><span class="p">(),</span>
        <span class="k">new</span> <span class="nx">JMS\SerializerBundle\JMSSerializerBundle</span><span class="p">(</span><span class="nv">$this</span><span class="p">),</span>
        <span class="k">new</span> <span class="nx">FOS\RestBundle\FOSRestBundle</span><span class="p">(),</span>
        <span class="k">new</span> <span class="nx">Symfony\Cmf\Bundle\CreateBundle\SymfonyCmfCreateBundle</span><span class="p">(),</span>
        <span class="c1">// ...</span>
    <span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>También necesitas configurar el <tt class="docutils literal"><span class="pre">FOSRestBundle</span></tt> para manejar <em>json</em>:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">fos_rest</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">view</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">formats</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">json</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">true</span>
</pre></div>
</div>
</div>
<div class="section" id="concepto">
<h2>Concepto<a class="headerlink" href="#concepto" title="Enlazar permanentemente con este título">¶</a></h2>
<p><tt class="docutils literal"><span class="pre">Createphp</span></tt> usa metadatos <em>RDF</em> sobre las clases de tu dominio, tal como <em>Doctrine</em>
sabe cómo se almacenan los metadatos de un objeto en la base de datos. Los metadatos son modelados por el tipo de la clase y pueden provenir de cualquier fuente. <tt class="docutils literal"><span class="pre">Createphp</span></tt> proporciona controladores de metadatos que leen <em>XML</em>, arreglos <em>PHP</em> y uno que justo introspecciona objetos y crea metadatos no semánticos que serán suficientes para editar con <tt class="file docutils literal"><span class="pre">create.js</span></tt>.</p>
<p>El <tt class="docutils literal"><span class="pre">RdfMapper</span></tt> se usa para traducir entre tu capa de almacenamiento y <tt class="docutils literal"><span class="pre">createphp</span></tt>.
Este es pasado al objeto <tt class="docutils literal"><span class="pre">dominio</span></tt> y al objeto metadatos pertinente.</p>
<p>Con los metadatos y el ayudante de <em>Twig</em>, el contenido es dibujado con anotaciones <em>RDF</em>. <tt class="file docutils literal"><span class="pre">create.js</span></tt> es cargado y habilitado para editar las entidades. Guarda en la interfaz de administración las operaciones que ocurrieron en llamadas <em>ajax</em>.</p>
<p>El controlador <tt class="docutils literal"><span class="pre">REST</span></tt> maneja esas llamadas <em>ajax</em>, y si quieres ser capaz de cargar imágenes, un controlador de imagen guarda las imágenes cargadas y devuelve la ubicación
de la imagen.</p>
</div>
<div class="section" id="configurando">
<h2>Configurando<a class="headerlink" href="#configurando" title="Enlazar permanentemente con este título">¶</a></h2>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml"><div class="highlight"><pre><span class="c1"># app/config/config.yml</span>
<span class="l-Scalar-Plain">symfony_cmf_create</span><span class="p-Indicator">:</span>
    <span class="c1"># cargando metadatos</span>

    <span class="c1"># Lista de directorios para buscar metadatos</span>
    <span class="l-Scalar-Plain">rdf_config_dirs</span><span class="p-Indicator">:</span>
        <span class="p-Indicator">-</span> <span class="s">&quot;%kernel.root_dir%/Resources/rdf-mappings&quot;</span>
    <span class="c1"># busca asociaciones en &lt;Paquete&gt;/Resources/rdf-mappings</span>
    <span class="c1"># auto_mapping: true</span>

    <span class="c1"># usa una clase diferente para el controlador REST</span>
    <span class="c1"># rest_controller_class: FQN\Classname</span>

    <span class="c1"># manejo de imagen</span>
    <span class="l-Scalar-Plain">imagen</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">model_class</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">~</span>
        <span class="l-Scalar-Plain">controller_class</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">~</span>

    <span class="c1"># rol para controlar el acceso para inclusión js, predefinido</span>
    <span class="c1"># REST y controladores de imagen</span>
    <span class="c1"># role: IS_AUTHENTICATED_ANONYMOUSLY</span>

    <span class="c1"># Habilita el asignador PHPCR-ODM de Doctrine</span>
    <span class="l-Scalar-Plain">phpcr_odm</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">true</span>

    <span class="c1"># asociación de tipo rdf name =&gt; class nombre usado al añadir ítems a colecciones</span>
    <span class="l-Scalar-Plain">map</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">rdfname</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">FQN\Classname</span>

    <span class="c1"># url para mejora semántica stanbol, de lo contrario la</span>
    <span class="c1"># predeterminada es la instalación del demo</span>
    <span class="c1"># stanbol_url: http://dev.iks-project.eu:8081</span>

    <span class="c1"># fija la barra de edición Hallo en lo alto de la página</span>
    <span class="c1"># fixed_toolbar: true</span>

    <span class="c1"># los tipos RDF para elementos a modificar en texto plano</span>
    <span class="c1"># plain_text_types: [&#39;dcterms:title&#39;]</span>

    <span class="c1"># los tipos RDFa para crear las rutas correspondientes después de</span>
    <span class="c1"># añadido el contenido de estos tipos con Create.js. Esto no</span>
    <span class="c1"># es necesario con el SimpleCmsBundle, porque el contenido y las</span>
    <span class="c1"># rutas están en el mismo árbol del repositorio.</span>
    <span class="c1"># create_routes_types: [&#39;http://schema.org/NewsArticle&#39;]</span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>El archivo javascript proporcionado configura <tt class="file docutils literal"><span class="pre">create.js</span></tt> y el editor «hallo». Activa algunos complementos como el editor de etiquetas para revisar colecciones de
atributos <tt class="docutils literal"><span class="pre">skos:related</span></tt>. Esperamos poder añadir algunas opciones de configuración para modificar la configuración de <tt class="file docutils literal"><span class="pre">create.js</span></tt> pero también puedes utilizar el archivo como una plantilla y hacer la propia si necesitas mayor personalización.</p>
<div class="section" id="metadatos">
<h3>Metadatos<a class="headerlink" href="#metadatos" title="Enlazar permanentemente con este título">¶</a></h3>
<p><tt class="file docutils literal"><span class="pre">createphp</span></tt> necesita información de metadatos para cada clase de tu modelo del dominio. Por omisión, <tt class="docutils literal"><span class="pre">crea</span> <span class="pre">paquete</span></tt> usa el controlador de metadatos <em>XML</em> y busca los metadatos en los paquetes habilitados en &lt;Paquete&gt;/Resources/rdf-mappings. Si utilizas un paquete que no tiene ninguna asignación <tt class="docutils literal"><span class="pre">RDF</span></tt>, puedes especificar una lista de <tt class="docutils literal"><span class="pre">rdf_config_dirs</span></tt> que se analizará adicionalmente para buscar metadatos.</p>
<p>Consulta la documentación de <a class="reference external" href="https://github.com/flack/createphp">createphp</a> para el formato de los metadatos <em>XML</em>.</p>
</div>
<div class="section" id="controlando-el-acceso">
<h3>Controlando el acceso<a class="headerlink" href="#controlando-el-acceso" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Si utilizas el controlador <tt class="docutils literal"><span class="pre">REST</span></tt> predefinido, todos pueden editar el contenido una vez activado el <tt class="docutils literal"><span class="pre">crea</span> <span class="pre">paquete</span></tt>. Para restringir el acceso, especifica un rol para el paquete que no sea el predefinido
<tt class="docutils literal"><span class="pre">IS_AUTHENTICATED_ANONYMOUSLY</span></tt>.
Si especificas un rol diferente, <tt class="file docutils literal"><span class="pre">create.js</span></tt> sólo se cargará si el usuario tiene ese rol y el controlador <tt class="docutils literal"><span class="pre">REST</span></tt> (y el controlador de imagen si está habilitado) revisará el rol.</p>
<p>Si necesitas un control de acceso más fino, busca en el método asignador <tt class="docutils literal"><span class="pre">isEditable</span></tt>.
Puedes extender el asignador a utilizar y sustituir <tt class="docutils literal"><span class="pre">isEditable</span></tt> para que responda si el objeto dominio que se le pasa es editable.</p>
</div>
<div class="section" id="manejando-imagenes">
<h3>Manejando imágenes<a class="headerlink" href="#manejando-imagenes" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Activa el controlador de imágenes simplista con la configuración <tt class="docutils literal"><span class="pre">image</span> <span class="pre">&gt;</span> <span class="pre">model_class</span> <span class="pre">|</span> <span class="pre">controller_class</span></tt>. Este controlador de imagen sólo despacha imágenes existentes en el repositorio <tt class="docutils literal"><span class="pre">PHPCR-ODM</span></tt> y también las sirve en peticiones.</p>
<p>Si necesitas un diferente tratamiento de imágenes, puedes sobrescribir <tt class="docutils literal"><span class="pre">image.model_class</span></tt> y/o <tt class="docutils literal"><span class="pre">image.controller_class</span></tt>, o implementar un servicio personalizado con <tt class="docutils literal"><span class="pre">ImageController</span></tt> y sustituir el <tt class="docutils literal"><span class="pre">symfony_cmf_create.image.controller</span></tt>.</p>
</div>
<div class="section" id="asignacion-de-peticiones-a-objetos">
<h3>Asignación de peticiones a objetos<a class="headerlink" href="#asignacion-de-peticiones-a-objetos" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Por ahora, el paquete sólo proporciona un servicio para asociar al <em>PHPCR-ODM</em> de <em>Doctrine</em>. Activado al establecer <tt class="docutils literal"><span class="pre">phpcr_odm</span></tt> en <tt class="docutils literal"><span class="pre">true</span></tt>. Si necesitas algo más, debes proporcionar un servicio <tt class="docutils literal"><span class="pre">symfony_cmf_create.object_mapper</span></tt>. (Si necesitas un contenedor para el <em>ORM</em> de <em>Doctrine</em>, mira los asignadores de la biblioteca <tt class="docutils literal"><span class="pre">createphp</span></tt> y haz una petición de extracción en la biblioteca, y otra para exponer el <em>ORM</em> como asignador del servicio en el <tt class="docutils literal"><span class="pre">crea</span> <span class="pre">paquete</span></tt>).</p>
<p>Además, ten en cuenta que <tt class="docutils literal"><span class="pre">createphp</span></tt> apoyaría diferentes asignadores para diferentes tipos de <tt class="docutils literal"><span class="pre">RDF</span></tt>.
Si necesitas esto, escarva un poco en <tt class="docutils literal"><span class="pre">createphp</span></tt> y <tt class="docutils literal"><span class="pre">crea</span> <span class="pre">paquete</span></tt> y haz una petición de extracción para activar esa característica.</p>
<p>Para poder crear nuevos objetos, es necesario proporcionar una asociación entre los tipos <tt class="docutils literal"><span class="pre">RDF</span></tt> y los nombres de clase. (Pendiente: ¿no podemos indexar todas las asignaciones y hacer esto automáticamente?)</p>
</div>
<div class="section" id="enrutando">
<h3>Enrutando<a class="headerlink" href="#enrutando" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Por último añade la ruta correspondiente a tu configuración:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">create</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">resource</span><span class="p-Indicator">:</span> <span class="s">&quot;@SymfonyCmfCreateBundle/Resources/config/routing/rest.xml&quot;</span>
<span class="l-Scalar-Plain">create_image</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">resource</span><span class="p-Indicator">:</span> <span class="s">&quot;@SymfonyCmfCreateBundle/Resources/config/routing/image.xml&quot;</span>
</pre></div>
</div>
</li>
<li><em>XML</em><div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;import</span> <span class="na">resource=</span><span class="s">&quot;@SymfonyCmfCreateBundle/Resources/config/routing/rest.xml&quot;</span> <span class="na">type=</span><span class="s">&quot;rest&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;import</span> <span class="na">resource=</span><span class="s">&quot;@SymfonyCmfCreateBundle/Resources/config/routing/image.xml&quot;</span> <span class="na">type=</span><span class="s">&quot;rest&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="section" id="usando">
<h2>Usando<a class="headerlink" href="#usando" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Ajusta tu plantilla para cargar los archivos <tt class="docutils literal"><span class="pre">js</span></tt> del editor si la sesión actual tiene permitido editar el contenido.</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">render</span> <span class="s2">&quot;symfony_cmf_create.jsloader.controller:includeJSFilesAction&quot;</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>Además, asegúrate de que <tt class="docutils literal"><span class="pre">assetic</span></tt> está reescribiendo rutas en tus archivos <em>css</em>, y luego incluye los archivos <em>css</em> base (y personalízalos con tu propio <em>css</em> cuando sea necesario) con:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">include</span> <span class="s2">&quot;SymfonyCmfCreateBundle::includecssfiles.html.twig&quot;</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>La otra cosa que tienes que hacer es proporcionar asignación <tt class="docutils literal"><span class="pre">RDF</span></tt> para las clases de tu modelo y ajusta tus plantillas para reproducir con <tt class="docutils literal"><span class="pre">createphp</span></tt> a modo de que <tt class="file docutils literal"><span class="pre">create.js</span></tt> sepa cual contenido es editable.</p>
<p>Crea la asignación de metadatos <em>XML</em> en <tt class="docutils literal"><span class="pre">&lt;Paquete&gt;/Resources/rdf-mappings/</span></tt> o una ruta
a tu <tt class="docutils literal"><span class="pre">rdf_config_dirs</span></tt> configurado después del nombre completamente cualificado de tus clases del modelo sustituyendo <tt class="docutils literal"><span class="pre">\\</span></tt> con un punto (<tt class="docutils literal"><span class="pre">.</span></tt>), es decir, <tt class="file docutils literal"><span class="pre">Symfony.Cmf.Bundle.SimpleCmsBundle.Document.MultilangPage.xml</span></tt>.
Para un ejemplo de asociación ve los archivos en el <tt class="file docutils literal"><span class="pre">cmf-sandbox</span></tt>. La documentación de referencia está en el <a class="reference external" href="https://github.com/flack/createphp">repositorio de la biblioteca createphp</a>.</p>
<p>Para dibujar tu modelo, usa la etiqueta <tt class="docutils literal"><span class="pre">createphp</span></tt> de <em>Twig</em>:</p>
<div class="highlight-html+jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">createphp</span> <span class="nv">page</span> <span class="k">as</span><span class="o">=</span><span class="s2">&quot;rdf&quot;</span> <span class="cp">%}</span>
<span class="cp">{{</span> <span class="nv">rdf</span><span class="o">|</span><span class="nf">raw</span> <span class="cp">}}</span>
<span class="cp">{%</span> <span class="k">endcreatephp</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>O si necesitas más control sobre el <em>HTML</em> generado:</p>
<div class="highlight-html+jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">createphp</span> <span class="nv">page</span> <span class="k">as</span><span class="o">=</span><span class="s2">&quot;rdf&quot;</span> <span class="cp">%}</span>
<span class="nt">&lt;div</span> <span class="cp">{{</span> <span class="nv">createphp_attributes</span><span class="o">(</span><span class="nv">rdf</span><span class="o">)</span> <span class="cp">}}</span><span class="nt">&gt;</span>
    <span class="nt">&lt;h1</span> <span class="na">class=</span><span class="s">&quot;my-title&quot;</span> <span class="cp">{{</span> <span class="nv">createphp_attributes</span><span class="o">(</span> <span class="nv">rdf.title</span> <span class="o">)</span> <span class="cp">}}</span><span class="nt">&gt;</span><span class="cp">{{</span> <span class="nv">createphp_content</span><span class="o">(</span> <span class="nv">rdf.title</span> <span class="o">)</span> <span class="cp">}}</span><span class="nt">&lt;/h1&gt;</span>
    <span class="nt">&lt;div</span> <span class="cp">{{</span> <span class="nv">createphp_attributes</span><span class="o">(</span> <span class="nv">rdf.body</span> <span class="o">)</span> <span class="cp">}}</span><span class="nt">&gt;</span><span class="cp">{{</span> <span class="nv">createphp_content</span><span class="o">(</span> <span class="nv">rdf.body</span> <span class="o">)</span> <span class="cp">}}</span><span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
<span class="cp">{%</span> <span class="k">endcreatephp</span> <span class="cp">%}</span>
</pre></div>
</div>
<div class="section" id="editores-alternativos">
<h3>Editores alternativos<a class="headerlink" href="#editores-alternativos" title="Enlazar permanentemente con este título">¶</a></h3>
<p>You can write your own templates to load a javascript editor. They have to
follow the naming pattern <tt class="docutils literal"><span class="pre">SymfonyCmfCreateBundle::includejsfiles-%editor%.html.twig</span></tt>
to be loaded. In the includeJSFilesAction, you specify the editor parameter.</p>
<blockquote>
<div>{% render &#8220;symfony_cmf_create.jsloader.controller:includeJSFilesAction&#8221; with {&#8216;editor&#8217;: &#8216;aloha&#8217; %}</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p>Create.js has built in support for Aloha and ckeditor, as well as the
default hallo editor. Those should be supported by the CreateBundle as well.
See these github issue for <a class="reference external" href="https://github.com/symfony-cmf/CreateBundle/issues/33">ckeditor</a>
and <a class="reference external" href="https://github.com/symfony-cmf/CreateBundle/issues/32">alhoa</a> integration.</p>
<p class="last">If you wrote the necessary code for one of those editors, or another editor
that could be useful for others, please send a pull request.</p>
</div>
</div>
</div>
<div class="section" id="desarrollando-el-editor-wysiwyg-hallo">
<h2>Desarrollando el editor <tt class="docutils literal"><span class="pre">wysiwyg</span></tt> <tt class="docutils literal"><span class="pre">hallo</span></tt><a class="headerlink" href="#desarrollando-el-editor-wysiwyg-hallo" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Puedes desarrollar el editor <tt class="docutils literal"><span class="pre">hallo</span></tt> dentro del <tt class="docutils literal"><span class="pre">Crea</span> <span class="pre">paquete</span></tt>. De manera predefinida, se usa una versión minimizada del <tt class="docutils literal"><span class="pre">hallo</span></tt> empacada con <tt class="docutils literal"><span class="pre">Crea</span> <span class="pre">paquete</span></tt>. Para desarrollar el código real, primero necesitas activar con <tt class="docutils literal"><span class="pre">checkout</span></tt> el repositorio <tt class="docutils literal"><span class="pre">hallo</span></tt> completo. Lo puedes hacer ejecutando la siguiente orden desde la línea de ordenes:</p>
<div class="highlight-bash"><div class="highlight"><pre>app/console cmf:create:init-hallo-devel
</pre></div>
</div>
<p>There is a special template to load the coffee script files. To load this,
just use the <tt class="docutils literal"><span class="pre">hallo-coffee</span></tt> editor with the includeJSFilesAction.</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">render</span> <span class="s2">&quot;symfony_cmf_create.jsloader.controller:includeJSFilesAction&quot;</span> <span class="k">with</span> <span class="o">{</span><span class="s1">&#39;editor&#39;</span><span class="o">:</span> <span class="s1">&#39;hallo-coffee&#39;</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>The hallo-coffee template uses assetic to load the coffee script files from
<tt class="docutils literal"><span class="pre">Resources/public/vendor/hallo/src</span></tt>, rather than the precompiled javascript
from <tt class="docutils literal"><span class="pre">Resources/public/vendor/create/deps/hallo-min.js</span></tt>. This also means that
you need to add a mapping for coffeescript in your assetic configuration and
you need the <a class="reference external" href="http://coffeescript.org/#installation">coffee compiler set up correctly</a>.</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml"><pre>assetic:
    filters:
        cssrewrite: ~
        coffee:
            bin: %coffee.bin%
            node: %coffee.node%
            apply_to: %coffee.extension%</pre>
</div>
</li>
</ul>
</div>
<p>In the cmf sandbox we did a little hack to not alwas trigger coffee script compiling.
En el archivo <tt class="file docutils literal"><span class="pre">config.yml</span></tt> hacemos configurable la extensión de <tt class="docutils literal"><span class="pre">coffee</span></tt>. Ahora si <tt class="file docutils literal"><span class="pre">parameters.yml</span></tt> pone <tt class="docutils literal"><span class="pre">coffee.extension</span></tt> a <tt class="docutils literal"><span class="pre">\.coffee</span></tt> el <tt class="docutils literal"><span class="pre">coffeescript</span></tt> es compilado y el compilador de <tt class="docutils literal"><span class="pre">coffee</span></tt> debe estar instalado. Si lo pusiste a cualquier otra cosa tal como <tt class="docutils literal"><span class="pre">\.nocoffee</span></tt> entonces no es necesario tener instalado el compilador de <tt class="docutils literal"><span class="pre">coffee</span></tt>.</p>
<p>Los valores predefinidos para los tres parámetros son:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">coffee.bin</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">/usr/local/bin/coffee</span>
<span class="l-Scalar-Plain">coffee.node</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">/usr/local/bin/node</span>
<span class="l-Scalar-Plain">coffee.extension</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">\.coffee</span>
</pre></div>
</div>
</li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <a href="https://github.com/symfony/symfony-standard"><img style="position: fixed; top: 0; right: 0; border: 0;" src="http://gitnacho.github.com/tnp/img/comun/bifurcame.png" alt="Bifúrcame en GitHub" /></a>
  
  <div style="width:740px;margin:10px auto;">
    <div class="related">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="Índice General"
             >índice</a></li>
        <li class="right" >
          <a href="phpcr-odm.html" title="DoctrinePHPCRBundle"
             >siguiente</a> |</li>
        <li class="right" >
          <a href="core.html" title="CoreBundle"
             >anterior</a> |</li>
        <li><a href="../../index.html">en Español</a> &raquo;</li>
          <li><a href="../index.html" >Documentación del <tt class="docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal"><span class="pre">CMF</span></tt> de <em>Symfony</em></a> &raquo;</li> 
      </ul>
    </div>
  </div>


   <div style="width: 740px; margin: 0 auto;">
     <div id="disqus_thread"></div>
     
    <div class="footer">
        &copy; Copyright 2011-2013, Traducido por Nacho Pacheco.
      Actualizado por última vez en Mar 19, 2013.
      Creado con <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
   </div>
   <script type="text/javascript">
    var disqus_shortname = 'documentos-mx';
    var disqus_developer = 1;
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
   </script>
   <noscript>
     Por favor activa JavaScript para ver los <a href="http://disqus.com/?ref_noscript">comentarios accionados por Disqus.</a>
   </noscript>

  </body>
</html>