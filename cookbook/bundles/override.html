
<!DOCTYPE html> 
<html lang="es">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Cómo sustituir cualquier parte de un paquete &mdash; Manual de Symfony2 en Español</title>
    
    <link rel="stylesheet" href="../../_static/tnp.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2.0.15',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/translations.js"></script>
    <link rel="shortcut icon" href="../../_static/icotnp.ico"/>
    <link rel="top" title="Manual de Symfony2 en Español" href="../../index.html" />
    <link rel="up" title="Paquetes" href="index.html" />
    <link rel="next" title="Cómo exponer la configuración semántica de un paquete" href="extension.html" />
    <link rel="prev" title="Cómo utilizar la herencia de paquetes para redefinir partes de un paquete" href="inheritance.html" /> 
  </head>
  <body>
  <div class="imalogo">
    
  <a href="../../index.html"><img src="http://gitnacho.github.com/tnp/img/sf/logo-big.gif" alt="Edición estándar de Symfony2" />
  
    <a href="../../index.html"><img src="http://gitnacho.github.com/tnp/_static/normaltnp.png" alt="Traducciones de Nacho Pacheco" /></a>
    <div class="social">
      <a href="https://twitter.com/share" class="twitter-share-button" data-via="esymfony" data-lang="es">Tweet</a>
      <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
    </div>
    <div id="searchbox">
      <form class="searc " action="../../search.html" method="get">
      <input type="search" name="q" placeholder="Término a buscar" />
      <input type="submit" value="Ir" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <script type="text/javascript">$('#searchbox').show(0);</script>
    </div>
    

    <div class="related">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="Índice General"
             accesskey="I">índice</a></li>
        <li class="right" >
          <a href="extension.html" title="Cómo exponer la configuración semántica de un paquete"
             accesskey="N">siguiente</a> |</li>
        <li class="right" >
          <a href="inheritance.html" title="Cómo utilizar la herencia de paquetes para redefinir partes de un paquete"
             accesskey="P">anterior</a> |</li>
        <li><a href="../../index.html">en Español</a> &raquo;</li>
          <li><a href="../index.html" >Recetario</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Paquetes</a> &raquo;</li> 
      </ul>
    </div>
  </div>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="como-sustituir-cualquier-parte-de-un-paquete">
<span id="index-0"></span><h1>Cómo sustituir cualquier parte de un paquete<a class="headerlink" href="#como-sustituir-cualquier-parte-de-un-paquete" title="Enlazar permanentemente con este título">¶</a></h1>
<p>Este documento es una referencia rápida sobre la forma de reemplazar las diferentes partes de los paquetes de terceros.</p>
<div class="section" id="plantillas">
<h2>Plantillas<a class="headerlink" href="#plantillas" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Para más información sobre la sustitución de plantillas, consulta:</p>
<ul class="simple">
<li><a class="reference internal" href="../../book/templating.html#overriding-bundle-templates"><em>Sustituyendo plantillas del paquete</em></a>.</li>
<li><a class="reference internal" href="inheritance.html"><em>Cómo utilizar la herencia de paquetes para redefinir partes de un paquete</em></a></li>
</ul>
</div>
<div class="section" id="enrutado">
<h2>Enrutado<a class="headerlink" href="#enrutado" title="Enlazar permanentemente con este título">¶</a></h2>
<p>El enrutado en <em>Symfony2</em> no se importa automáticamente. Si quieres incluir las rutas de algún paquete, entonces las debes importar manualmente desde algún lugar de tu aplicación (por ejemplo, <tt class="docutils literal"><span class="pre">app/config/routing.yml</span></tt>).</p>
<p>La forma más fácil de «sustituir» el enrutado de un paquete es no importarlo en absoluto. En lugar de importar el enrutado de un paquete de terceros, simplemente copia el archivo de enrutado a tu aplicación, modifica las rutas, e importarlo en su lugar.</p>
</div>
<div class="section" id="controladores">
<h2>Controladores<a class="headerlink" href="#controladores" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Suponiendo que el paquete de terceros involucrado no utiliza los controladores como servicios (que casi siempre es el caso), fácilmente puede reemplazar los controladores a través de la herencia del paquete. Para más información, consulta <a class="reference internal" href="inheritance.html"><em>Cómo utilizar la herencia de paquetes para redefinir partes de un paquete</em></a>.</p>
</div>
<div class="section" id="servicios-y-configuracion">
<h2>Servicios y configuración<a class="headerlink" href="#servicios-y-configuracion" title="Enlazar permanentemente con este título">¶</a></h2>
<p>A fin de redefinir/extender un servicio, tienes dos opciones. En primer lugar, puedes configurar el parámetro que contiene el nombre de clase del servicio ajustándolo a tu propia clase en <tt class="file docutils literal"><span class="pre">app/config/config.yml</span></tt>. Por supuesto, esto sólo es posible si definiste como parámetro el nombre de la clase en la configuración del servicio en el paquete que contiene el servicio. Por ejemplo, para redefinir la clase utilizada por el servicio <tt class="docutils literal"><span class="pre">traductor</span></tt> de <em>Symfony</em>, debes reajustar el parámetro <tt class="docutils literal"><span class="pre">translator.class</span></tt>. Saber exactamente cual parámetro cambiar posiblemente conlleve un poco de investigación. Para el traductor, el parámetro está definido y se utiliza en el archivo <tt class="file docutils literal"><span class="pre">Resources/config/translation.xml</span></tt> en el núcleo de <tt class="docutils literal"><span class="pre">FrameworkBundle</span></tt>:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml"><div class="highlight"><pre><span class="c1"># app/config/config.yml</span>
<span class="l-Scalar-Plain">parameters</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">translator.class</span><span class="p-Indicator">:</span>      <span class="l-Scalar-Plain">Acme\HelloBundle\Translation\Translator</span>
</pre></div>
</div>
</li>
<li><em>XML</em><div class="highlight-xml"><div class="highlight"><pre><span class="c">&lt;!-- app/config/config.xml --&gt;</span>
<span class="nt">&lt;parameters&gt;</span>
    <span class="nt">&lt;parameter</span> <span class="na">key=</span><span class="s">&quot;translator.class&quot;</span><span class="nt">&gt;</span>Acme\HelloBundle\Translation\Translator<span class="nt">&lt;/parameter&gt;</span>
<span class="nt">&lt;/parameters&gt;</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="c1">// app/config/config.php</span>
<span class="nv">$container</span><span class="o">-&gt;</span><span class="na">setParameter</span><span class="p">(</span><span class="s1">&#39;translator.class&#39;</span><span class="p">,</span> <span class="s1">&#39;Acme\HelloBundle\Translation\Translator&#39;</span><span class="p">);</span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>En segundo lugar, si la clase no está disponible como un parámetro, te quieres asegurar de que &#8212;cuando se utilice el paquete&#8212; siempre se redefina la clase, o se tenga que modificar algo más allá de sólo el nombre de la clase, debes utilizar un pase del compilador:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="c1">// src/Acme/FooBundle/DependencyInjection/Compiler/OverrideServiceCompilerPass.php</span>
<span class="k">namespace</span> <span class="nx">Acme\DemoBundle\DependencyInjection\Compiler</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Symfony\Component\DependencyInjection\Compiler\CompilerPassInterface</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\DependencyInjection\ContainerBuilder</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">OverrideServiceCompilerPass</span> <span class="k">implements</span> <span class="nx">CompilerPassInterface</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">process</span><span class="p">(</span><span class="nx">ContainerBuilder</span> <span class="nv">$container</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$definition</span> <span class="o">=</span> <span class="nv">$container</span><span class="o">-&gt;</span><span class="na">getDefinition</span><span class="p">(</span><span class="s1">&#39;original-service-id&#39;</span><span class="p">);</span>
        <span class="nv">$definition</span><span class="o">-&gt;</span><span class="na">setClass</span><span class="p">(</span><span class="s1">&#39;Acme\DemoBundle\YourService&#39;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>En este ejemplo recuperaste la definición del servicio desde el servicio original, y ajustaste el nombre de la clase a tu propia clase.</p>
<p>Consulta <a class="reference internal" href="../service_container/compiler_passes.html"><em>Cómo trabajan los pases del compilador en los paquetes</em></a> para más información sobre cómo usar los pases del compilador. Si quieres hacer algo más allá que sólo reemplazar la clase &#8212;como agregar una llamada a un método&#8212; sólo puedes usar el método de pase del compilador.</p>
</div>
<div class="section" id="entidades-y-asignacion-de-entidades">
<h2>Entidades y asignación de entidades<a class="headerlink" href="#entidades-y-asignacion-de-entidades" title="Enlazar permanentemente con este título">¶</a></h2>
<p>En curso...</p>
</div>
<div class="section" id="formularios">
<h2>Formularios<a class="headerlink" href="#formularios" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Con el fin de sustituir un tipo de formulario, este se tiene que registrar como un servicio (lo cual significa que se etiqueta como <tt class="docutils literal"><span class="pre">«form.type»</span></tt>). A continuación, lo puedes modificar tal como lo harías para redefinir cualquier servicio, como se explica en <a class="reference internal" href="#servicios-y-configuracion">Servicios y configuración</a>. Esto, por supuesto, sólo funcionará si el tipo es referido por su alias en lugar de crear una instancia, por ejemplo:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;custom_type&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>rather than:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="k">new</span> <span class="nx">CustomType</span><span class="p">());</span>
</pre></div>
</div>
</div>
<div class="section" id="metadatos-de-validacion">
<h2>Metadatos de validación<a class="headerlink" href="#metadatos-de-validacion" title="Enlazar permanentemente con este título">¶</a></h2>
<p>En curso...</p>
</div>
<div class="section" id="traducciones">
<h2>Traducciones<a class="headerlink" href="#traducciones" title="Enlazar permanentemente con este título">¶</a></h2>
<p>En curso...</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <a href="https://github.com/symfony/symfony-standard"><img style="position: fixed; top: 0; right: 0; border: 0;" src="http://gitnacho.github.com/tnp/img/comun/bifurcame.png" alt="Bifúrcame en GitHub" /></a>
  
  <div style="width:740px;margin:10px auto;">
    <div class="related">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="Índice General"
             >índice</a></li>
        <li class="right" >
          <a href="extension.html" title="Cómo exponer la configuración semántica de un paquete"
             >siguiente</a> |</li>
        <li class="right" >
          <a href="inheritance.html" title="Cómo utilizar la herencia de paquetes para redefinir partes de un paquete"
             >anterior</a> |</li>
        <li><a href="../../index.html">en Español</a> &raquo;</li>
          <li><a href="../index.html" >Recetario</a> &raquo;</li>
          <li><a href="index.html" >Paquetes</a> &raquo;</li> 
      </ul>
    </div>
  </div>


   <div style="width: 740px; margin: 0 auto;">
     <div id="disqus_thread"></div>
     
    <div class="footer">
        &copy; Copyright 2011-2013, Traducido por Nacho Pacheco.
      Actualizado por última vez en Jan 17, 2013.
      Creado con <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
   </div>
   <script type="text/javascript">
    var disqus_shortname = 'documentos-mx';
    var disqus_developer = 1;
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
   </script>
   <noscript>
     Por favor activa JavaScript para ver los <a href="http://disqus.com/?ref_noscript">comentarios accionados por Disqus.</a>
   </noscript>

  </body>
</html>