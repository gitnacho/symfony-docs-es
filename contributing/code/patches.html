
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Enviando un parche &mdash; Manual de Symfony2 en Español</title>
    
    <link rel="stylesheet" href="../../_static/tnp.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2.0.12',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/translations.js"></script>
    <link rel="shortcut icon" href="../../_static/icotnp.ico"/>
    <link rel="top" title="Manual de Symfony2 en Español" href="../../index.html" />
    <link rel="up" title="Aportando código" href="index.html" />
    <link rel="next" title="Informando un problema de seguridad" href="security.html" />
    <link rel="prev" title="Informando de errores" href="bugs.html" /> 
  </head>
  <body>
  <div class="imalogo">
    
  <a href="../../index.html"><img src="../.././_static/logo-big.gif" alt="Traducciones de Nacho Pacheco" />
  
    <a href="http://gitnacho.github.com/tnp/"><img src="../.././_static/normaltnp.png" alt="Traducciones de Nacho Pacheco" /></a>
    <div class="social">
      <a href="https://twitter.com/share" class="twitter-share-button" data-via="esymfony" data-lang="es">Tweet</a>
      <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
    </div>
    <div id="searchbox">
      <form class="searc " action="../../search.html" method="get">
      <input type="search" name="q" placeholder="Término a buscar" />
      <input type="submit" value="Ir" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <script type="text/javascript">$('#searchbox').show(0);</script>
    </div>
    

    
    <div class="related">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="Índice General"
             accesskey="I">índice</a></li>
        <li class="right" >
          <a href="security.html" title="Informando un problema de seguridad"
             accesskey="N">siguiente</a> |</li>
        <li class="right" >
          <a href="bugs.html" title="Informando de errores"
             accesskey="P">anterior</a> |</li>
        <li><a href="../../index.html">en Español</a> &raquo;</li>
          <li><a href="../index.html" >Colaborando</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Aportando código</a> &raquo;</li> 
      </ul>
    </div>
  </div>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="enviando-un-parche">
<h1>Enviando un parche<a class="headerlink" href="#enviando-un-parche" title="Enlazar permanentemente con este título">¶</a></h1>
<p>Los parches son la mejor manera de proporcionar una corrección de error o de proponer mejoras a <em>Symfony2</em>.</p>
<div class="section" id="lista-de-verificacion">
<h2>Lista de verificación<a class="headerlink" href="#lista-de-verificacion" title="Enlazar permanentemente con este título">¶</a></h2>
<p>El propósito de la lista de verificación es garantizar que tus contribuciones se pueden revisar sin necesidad de bucles de retroalimentación para asegurarte que tus aportaciones se puedan incluir en <em>Symfony2</em> lo más rápido posible.</p>
<p>El título de la solicitud de atracción se debe prefijar con el nombre del componente o paquete relacionado.</p>
<div class="highlight-text"><div class="highlight"><pre>[Componente] Una breve descripción como título aquí.
</pre></div>
</div>
<p>Un título de ejemplo se podría parecer a este:</p>
<div class="highlight-text"><div class="highlight"><pre>[Form] Add selectbox field type.
</pre></div>
</div>
<div class="admonition tip">
<p class="first admonition-title">Truco</p>
<p class="last">Por favor, usa &#8220;[WIP]&#8221; en el título si no has completado el envío o si las pruebas están incompletas o aún no las supera.</p>
</div>
<p>Todas las solicitudes de atracción deben incluir la siguiente plantilla en la descripción de la petición:</p>
<div class="highlight-text"><div class="highlight"><pre>Bug fix: [yes|no]
Feature addition: [yes|no]
Backwards compatibility break: [yes|no]
Symfony2 tests pass: [yes|no]
Fixes the following tickets: [lista separada con comas de boletos corregidos por el PR]
Todo: [lista de todos los pendientes]
</pre></div>
</div>
<p>Un envío de ejemplo se podría ver como el siguiente:</p>
<div class="highlight-text"><div class="highlight"><pre>Bug fix: no
Feature addition: yes
Backwards compatibility break: no
Symfony2 tests pass: yes
Fixes the following tickets: -
Todo: -
</pre></div>
</div>
<p>¡Gracias por llenar e incluir la plantilla en tu presentación!</p>
<div class="admonition tip">
<p class="first admonition-title">Truco</p>
<p class="last">Todas las características adicionales se deben enviar a la rama &#8220;master&#8221;, mientras que todas las correcciones de errores se deben enviar a la rama más antigua aún activa. Además los envíos &#8212;como regla general&#8212; no deben romper la compatibilidad hacia atrás.</p>
</div>
<div class="admonition tip">
<p class="first admonition-title">Truco</p>
<p class="last">Para obtener automáticamente la rama de la característica a prueba, puedes añadir tu bifurcación a <a class="reference external" href="http://travis-ci.org">travis-ci.org</a>. Sólo inicia sesión utilizando tu cuenta de <tt class="file docutils literal"><span class="pre">github.com</span></tt> y luego, sencillamente indica un cambio para habilitar las pruebas automatizadas. En tu solicitud de atracción, en vez de especificar &#8220;<em>Symfony2 tests pass: [yes|no]</em>&#8221;, la puedes enlazar al <a class="reference external" href="http://about.travis-ci.org/docs/user/status-images/">icono de estado de travis-ci.org</a>. Para más detalles, ve la <a class="reference external" href="http://about.travis-ci.org/docs/user/getting-started/">guía comenzando con travis-ci.org</a>.</p>
</div>
</div>
<div class="section" id="configuracion-inicial">
<h2>Configuración inicial<a class="headerlink" href="#configuracion-inicial" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Antes de trabajar en <em>Symfony2</em>, configura un entorno amigable con el siguiente software:</p>
<ul class="simple">
<li>Git;</li>
<li>PHP version 5.3.2 o más reciente;</li>
<li>PHPUnit 3.6.4 o más reciente.</li>
</ul>
<p>Configura la información del usuario con tu nombre real y una dirección de correo electrónico operativa:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>git config --global user.name <span class="s2">&quot;Tu nombre&quot;</span>
<span class="nv">$ </span>git config --global user.email tu@ejemplo.com
</pre></div>
</div>
<div class="admonition tip">
<p class="first admonition-title">Truco</p>
<p class="last">Si eres nuevo en <em>Git</em>, es muy recomendable que leas el excelente libro <a class="reference external" href="http://progit.org/">ProGit</a>, que además es libre.</p>
</div>
<div class="admonition tip">
<p class="first admonition-title">Truco</p>
<p>Usuarios de Windows: al instalar <em>Git</em>, se te preguntará qué hacer con los finales de línea y te sugiere reemplazar todos los <tt class="docutils literal"><span class="pre">LF</span></tt> por <tt class="docutils literal"><span class="pre">CRLF</span></tt>. ¡Esta es la opción incorrecta si deseas contribuir con <em>Symfony</em>! Seleccionar el método tal cual es tu mejor opción, puesto que <em>Git</em> convertirá tus saltos de línea a los del repositorio. Si ya has instalado <em>Git</em>, puedes comprobar el valor de esta opción escribiendo:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>git config core.autocrlf
</pre></div>
</div>
<p>Esto devolverá o bien <tt class="docutils literal"><span class="pre">&quot;false&quot;</span></tt>, <tt class="docutils literal"><span class="pre">&quot;input&quot;</span></tt> o <tt class="docutils literal"><span class="pre">&quot;true&quot;</span></tt>, <tt class="docutils literal"><span class="pre">&quot;true&quot;</span></tt> y <tt class="docutils literal"><span class="pre">&quot;false&quot;</span></tt> son valores incorrectos. Para fijarlo a otro valor, escribe:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>git config --global core.autocrlf input
</pre></div>
</div>
<p class="last">Sustituye <tt class="docutils literal"><span class="pre">--global</span></tt> por <tt class="docutils literal"><span class="pre">--local</span></tt> si lo quieres fijar únicamente para el repositorio activo.</p>
</div>
<p>Obtén el código fuente de <em>Symfony2</em>:</p>
<ul class="simple">
<li>Crea una cuenta <a class="reference external" href="https://github.com/signup/free">GitHub</a> e ingresa;</li>
<li>Consigue el <a class="reference external" href="https://github.com/symfony/symfony">repositorio Symfony2</a> (haz clic en el botón &#8220;Fork&#8221;);</li>
<li>Después de concluida la &#8220;acción de bifurcar el núcleo&#8221;, clona tu bifurcación a nivel local (esto creará un directorio <cite>symfony</cite>):</li>
</ul>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>git clone git@github.com:NOMBREUSUARIO/symfony.git
</pre></div>
</div>
<ul class="simple">
<li>Añade el repositorio anterior como <tt class="docutils literal"><span class="pre">remoto</span></tt>:</li>
</ul>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span><span class="nb">cd </span>symfony
<span class="nv">$ </span>git remote add upstream git://github.com/symfony/symfony.git
</pre></div>
</div>
<p>Ahora que <em>Symfony2</em> está instalado, comprueba que todas las pruebas unitarias pasan en tu entorno como se explica en el <a class="reference internal" href="tests.html"><em>documento</em></a> dedicado.</p>
</div>
<div class="section" id="trabajando-en-un-parche">
<h2>Trabajando en un parche<a class="headerlink" href="#trabajando-en-un-parche" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Cada vez que desees trabajar en un parche por un fallo o una mejora, necesitas crear una rama del tema:</p>
<p>La rama debe estar basada en la rama <tt class="docutils literal"><span class="pre">master</span></tt> si deseas agregar una nueva función. Pero si deseas corregir un fallo, utiliza la versión más antigua, pero aún mantenida de <em>Symfony</em> donde ocurre el fallo (como <tt class="docutils literal"><span class="pre">2.0</span></tt>).</p>
<p>Crea la rama del tema con la siguiente orden:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>git checkout -b NOMBRE_RAMA master
</pre></div>
</div>
<p>O, si deseas proporcionar una corrección de error para la rama 2.0, en primer lugar, necesitas actualizar tu copia local a la rama <cite>2.0</cite> remota:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>git checkout -t origin/2.0
</pre></div>
</div>
<p>A continuación, puedes crear una nueva rama de la rama 2.0 para trabajar en la corrección del error:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>git checkout -b BRANCH_NAME 2.0
</pre></div>
</div>
<div class="admonition tip">
<p class="first admonition-title">Truco</p>
<p class="last">Utiliza un nombre descriptivo para tu rama (<tt class="docutils literal"><span class="pre">ticket_XXX</span></tt> donde <tt class="docutils literal"><span class="pre">XXX</span></tt> es el número del boleto, la cual es una buena convención para la corrección de errores).</p>
</div>
<p>La orden <tt class="docutils literal"><span class="pre">checkout</span></tt> anterior, automáticamente cambia el código a la rama recién creada (para ver la rama en que estás trabajando utiliza <tt class="docutils literal"><span class="pre">git</span> <span class="pre">branch</span></tt>).</p>
<p>Trabaja en el código tanto como quieras y confirma tus cambios tanto como desees; pero ten en cuenta lo siguiente:</p>
<ul class="simple">
<li>Sigue los <a class="reference internal" href="standards.html"><em>estándares</em></a> de codificación (utiliza <tt class="docutils literal"><span class="pre">git</span> <span class="pre">diff</span> <span class="pre">--check</span></tt> para comprobar si hay espacios finales);</li>
<li>Añade pruebas unitarias para probar que el error se corrigió o que la nueva característica realmente funciona;</li>
<li>Haz confirmaciones de cambios atómicas y separadas lógicamente (usa el poder de <tt class="docutils literal"><span class="pre">git</span> <span class="pre">rebase</span></tt> para tener un historial limpio y lógico);</li>
<li>Escribe mensajes de confirmación de cambios sustanciales.</li>
</ul>
<div class="admonition tip">
<p class="first admonition-title">Truco</p>
<p class="last">Un buen mensaje de confirmación de cambios sustancial está compuesto por un resumen (en la primera línea), seguido opcionalmente por una línea en blanco y una descripción más detallada. El resumen debe comenzar con el componente en el que estás trabajando entre corchetes (<tt class="docutils literal"><span class="pre">[DependencyInjection]</span></tt>, <tt class="docutils literal"><span class="pre">[FrameworkBundle]</span></tt>, ...). Utiliza un verbo (<tt class="docutils literal"><span class="pre">fixed...</span></tt>, <tt class="docutils literal"><span class="pre">added...</span></tt>, ...) para iniciar el resumen y no agregues un punto al final.</p>
</div>
</div>
<div class="section" id="id1">
<h2>Enviando un parche<a class="headerlink" href="#id1" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Antes de presentar tu revisión, actualiza tu rama (es necesario si te toma cierto tiempo terminar los cambios):</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>git checkout master
<span class="nv">$ </span>git fetch upstream
<span class="nv">$ </span>git merge upstream/master
<span class="nv">$ </span>git checkout NOMBRE_RAMA
<span class="nv">$ </span>git rebase master
</pre></div>
</div>
<div class="admonition tip">
<p class="first admonition-title">Truco</p>
<p class="last">Sustituye <tt class="docutils literal"><span class="pre">master</span></tt> con <tt class="docutils literal"><span class="pre">2.0</span></tt> si estás trabajando en una corrección de error</p>
</div>
<p>Al ejecutar la orden <tt class="docutils literal"><span class="pre">rebase</span></tt>, posiblemente tengas que arreglar conflictos de fusión.
<tt class="docutils literal"><span class="pre">git</span> <span class="pre">status</span></tt> te mostrará los archivos <em>sin fusionar</em>. Resuelve todos los conflictos, y luego continua el rebase:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>git add ... <span class="c"># Añade archivos resueltos</span>
<span class="nv">$ </span>git rebase --continue
</pre></div>
</div>
<p>Comprueba que todas las pruebas todavía pasan y empuja tu rama remota:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>git push origin NOMBRE_RAMA
</pre></div>
</div>
<p>Ahora puedes hablar de tu parche en la <a class="reference external" href="http://groups.google.com/group/symfony-devs">lista de correo dev</a> o hacer una petición de atracción (que se debe hacer en el repositorio <tt class="docutils literal"><span class="pre">symfony/synfony</span></tt>). Para facilitar el trabajo del equipo central, siempre incluye los componentes modificados en tu mensaje de petición de atracción, como en:</p>
<div class="highlight-text"><div class="highlight"><pre>[Yaml] foo bar
[Form] [Validator] [FrameworkBundle] foo bar
</pre></div>
</div>
<div class="admonition tip">
<p class="first admonition-title">Truco</p>
<p class="last">Ten cuidado al momento de solicitar la atracción para <tt class="docutils literal"><span class="pre">symfony:2.0</span></tt> si deseas que el equipo del núcleo atraiga una corrección de error basada en la rama 2.0.</p>
</div>
<p>Si vas a enviar un correo electrónico a la lista de correo, no olvides hacer referencia a la <em>URL</em> de tu rama (<tt class="docutils literal"><span class="pre">https://github.com/NOMBREDEUSUARIO/symfony.git</span> <span class="pre">NOMBRE_RAMA</span></tt>) o la <em>URL</em> de la petición de atracción.</p>
<p>Basándote en la retroalimentación de la lista de correo o a través de la petición de atracción en <em>GitHub</em>, posiblemente tengas que rehacer el parche. Antes de volver a presentarlo, rebasa con <tt class="docutils literal"><span class="pre">upstream/master</span></tt> o <tt class="docutils literal"><span class="pre">upstream/2.0</span></tt>, no los mezcles; y fuerza el empuje al origen:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>git rebase -f upstream/master
<span class="nv">$ </span>git push -f origin NOMBRE_RAMA
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">al hacer un <tt class="docutils literal"><span class="pre">push</span> <span class="pre">-f</span></tt> (o <tt class="docutils literal"><span class="pre">--force</span></tt>), siempre especifica el nombre de la rama explícitamente para evitar mezclar en otras ramas del repositorio (<tt class="docutils literal"><span class="pre">--force</span></tt> le dice a <em>Git</em> que realmente quieres mezclar las cosas en lugar de hacerlo cuidadosamente).</p>
</div>
<p>A menudo, los moderadores te pedirán que &#8220;aplanes&#8221; tus confirmaciones de cambios. Lo cual significa que combines varias confirmaciones de cambios en una sola. Para ello, utiliza la orden <tt class="docutils literal"><span class="pre">rebase</span></tt>:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>git rebase -i head~3
<span class="nv">$ </span>git push -f origin NOMBRE_RAMA
</pre></div>
</div>
<p>Aquí, el número 3 debe ser igual a la cantidad de confirmaciones de cambios en tu rama. Después que escribas esta orden, aparecerá un editor mostrándote la lista de confirmaciones de cambios:</p>
<div class="highlight-text"><div class="highlight"><pre>pick 1a31be6 first commit
pick 7fc64b4 second commit
pick 7d33018 third commit
</pre></div>
</div>
<p>Para revertir todas las confirmaciones de cambios a la primera, elimina la palabra <tt class="docutils literal"><span class="pre">&quot;pick&quot;</span></tt> antes de la segunda y última confirmación de cambios, y sustitúyela por la palabra <tt class="docutils literal"><span class="pre">&quot;squash&quot;</span></tt> o simplemente <tt class="docutils literal"><span class="pre">&quot;s&quot;</span></tt>.
Cuando guardes, <em>GIt</em> iniciará el <tt class="docutils literal"><span class="pre">rebase</span></tt>, y si tiene éxito, te pedirá que modifiques el mensaje de confirmación de cambios, que de manera predeterminada es una lista enumerando los mensajes de todas las confirmaciones. Cuando hayas terminado, ejecuta la orden <tt class="docutils literal"><span class="pre">push</span></tt>.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Todos los parches que envíes se deben liberar bajo la licencia <em>MIT</em>, a menos que explícitamente lo especifiques en el código.</p>
</div>
<p>Todas las correcciones de fallos se fusionarán en las ramas de mantenimiento, también se fusionaran regularmente en las ramas más recientes. Por ejemplo, si envías un parche para la rama <tt class="docutils literal"><span class="pre">2.0</span></tt>, el parche también será aplicado por el equipo central a la rama <tt class="docutils literal"><span class="pre">master</span></tt>.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <a href="https://github.com/symfony/symfony-standard"><img style="position: fixed; top: 0; right: 0; border: 0;" src="../.././_static/bifurcame.png" alt="Bifúrcame en GitHub" /></a>
  
  <div style="width:740px;margin:10px auto;">
    
    <div class="related">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="Índice General"
             >índice</a></li>
        <li class="right" >
          <a href="security.html" title="Informando un problema de seguridad"
             >siguiente</a> |</li>
        <li class="right" >
          <a href="bugs.html" title="Informando de errores"
             >anterior</a> |</li>
        <li><a href="../../index.html">en Español</a> &raquo;</li>
          <li><a href="../index.html" >Colaborando</a> &raquo;</li>
          <li><a href="index.html" >Aportando código</a> &raquo;</li> 
      </ul>
    </div>
  </div>


   <div style="width: 740px; margin: 0 auto;">
     
    <div class="footer">
        &copy; Copyright 2011-2012, Traducido por Nacho Pacheco.
      Actualizado por última vez en Apr 01, 2012.
      Creado con <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
    </div>
     <div id="disqus_thread"></div>
   </div>
   <script type="text/javascript"> 
    var disqus_shortname = 'documentos-mx';
    var disqus_developer = 1;
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
   </script> 
   <noscript>
     Por favor activa JavaScript para ver los <a href="http://disqus.com/?ref_noscript">comentarios accionados por Disqus.</a>
   </noscript>

  </body>
</html>